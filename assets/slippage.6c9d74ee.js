import{aj as At,ba as Ii,am as Ut,as as Cr,bb as Oi,ag as ni,bc as Ci,ak as C,bd as Pi,ay as Ui,az as Bi,aw as hr,be as ki,bf as Pr,bg as xe,bh as Li,bi as Di,bj as si,aF as Fi,bk as Gi,aA as Xe,bl as qi,aG as zi,aH as $i,s as Kt,o as Hi,z as rr,bm as oi,bn as ir,l as P,i as ue,d as re,j as Vi,t as jt,m as ce,n as Xt,bo as Wi,bp as Zi,v as Ki,c as Ur,k as ai,J as Ne,bq as li,br as Xi,$ as fi,bs as hi,D as ur,C as ui,bt as cr,a6 as nr,bu as Ji,bv as ji,q as Yi,bw as Qi,bx as ci,a1 as tn,by as en,bz as Br,bA as rn,bB as nn,bC as sn,bD as on,a3 as an,bE as ln,bF as fn,bG as kr,bH as hn,bI as un,w as di,F as mi,G as cn,y as Lr,A as dn,a2 as mn,a8 as de,X as ae,bJ as Me,a9 as Re,aa as ne,u as Ht,bK as gi,a7 as pi,H as gn,aY as pn,b1 as vn,b as me,L as ge,N as kt,a_ as Dr,f as pe,O as ve,M as te,Q as Je,R as wn,S as Mn,a$ as Fr,P as yn,bL as En,Y as bn,Z as _n,_ as xn}from"./index.6fc8e0b9.js";import{E as Se,R as dr,F as Nn,P as vi}from"./index.d522aff9.js";const Ct=new At(Ii),se={},wi=Ut.from(0),Mi=Ut.from(-1);function yi(s,e,n,o){const m={fault:e,operation:n};return o!==void 0&&(m.value=o),Ct.throwError(s,At.errors.NUMERIC_FAULT,m)}let oe="0";for(;oe.length<256;)oe+=oe;function mr(s){if(typeof s!="number")try{s=Ut.from(s).toNumber()}catch(e){}return typeof s=="number"&&s>=0&&s<=256&&!(s%1)?"1"+oe.substring(0,s):Ct.throwArgumentError("invalid decimal size","decimals",s)}function ye(s,e){e==null&&(e=0);const n=mr(e);s=Ut.from(s);const o=s.lt(wi);o&&(s=s.mul(Mi));let m=s.mod(n).toString();for(;m.length<n.length-1;)m="0"+m;m=m.match(/^([0-9]*[1-9]|0)(0*)/)[1];const h=s.div(n).toString();return n.length===1?s=h:s=h+"."+m,o&&(s="-"+s),s}function zt(s,e){e==null&&(e=0);const n=mr(e);(typeof s!="string"||!s.match(/^-?[0-9.]+$/))&&Ct.throwArgumentError("invalid decimal value","value",s);const o=s.substring(0,1)==="-";o&&(s=s.substring(1)),s==="."&&Ct.throwArgumentError("missing value","value",s);const m=s.split(".");m.length>2&&Ct.throwArgumentError("too many decimal points","value",s);let h=m[0],v=m[1];for(h||(h="0"),v||(v="0");v[v.length-1]==="0";)v=v.substring(0,v.length-1);for(v.length>n.length-1&&yi("fractional component exceeds decimals","underflow","parseFixed"),v===""&&(v="0");v.length<n.length-1;)v+="0";const w=Ut.from(h),M=Ut.from(v);let y=w.mul(n).add(M);return o&&(y=y.mul(Mi)),y}class ee{constructor(e,n,o,m){e!==se&&Ct.throwError("cannot use FixedFormat constructor; use FixedFormat.from",At.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=o,this.decimals=m,this.name=(n?"":"u")+"fixed"+String(o)+"x"+String(m),this._multiplier=mr(m),Object.freeze(this)}static from(e){if(e instanceof ee)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,o=128,m=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const h=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);h||Ct.throwArgumentError("invalid fixed format","format",e),n=h[1]!=="u",o=parseInt(h[2]),m=parseInt(h[3])}}else if(e){const h=(v,w,M)=>e[v]==null?M:(typeof e[v]!==w&&Ct.throwArgumentError("invalid fixed format ("+v+" not "+w+")","format."+v,e[v]),e[v]);n=h("signed","boolean",n),o=h("width","number",o),m=h("decimals","number",m)}return o%8&&Ct.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",o),m>80&&Ct.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",m),new ee(se,n,o,m)}}class Ot{constructor(e,n,o,m){e!==se&&Ct.throwError("cannot use FixedNumber constructor; use FixedNumber.from",At.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=m,this._hex=n,this._value=o,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ct.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=zt(this._value,this.format.decimals),o=zt(e._value,e.format.decimals);return Ot.fromValue(n.add(o),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=zt(this._value,this.format.decimals),o=zt(e._value,e.format.decimals);return Ot.fromValue(n.sub(o),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=zt(this._value,this.format.decimals),o=zt(e._value,e.format.decimals);return Ot.fromValue(n.mul(o).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=zt(this._value,this.format.decimals),o=zt(e._value,e.format.decimals);return Ot.fromValue(n.mul(this.format._multiplier).div(o),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Ot.from(e[0],this.format);const o=!e[1].match(/^(0*)$/);return this.isNegative()&&o&&(n=n.subUnsafe(Gr.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Ot.from(e[0],this.format);const o=!e[1].match(/^(0*)$/);return!this.isNegative()&&o&&(n=n.addUnsafe(Gr.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Ct.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const o=Ot.from("1"+oe.substring(0,e),this.format),m=Rn.toFormat(this.format);return this.mulUnsafe(o).addUnsafe(m).floor().divUnsafe(o)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ct.throwArgumentError("invalid byte width","width",e);const n=Ut.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Cr(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ot.fromString(this._value,e)}static fromValue(e,n,o){return o==null&&n!=null&&!Oi(n)&&(o=n,n=null),n==null&&(n=0),o==null&&(o="fixed"),Ot.fromString(ye(e,n),ee.from(o))}static fromString(e,n){n==null&&(n="fixed");const o=ee.from(n),m=zt(e,o.decimals);!o.signed&&m.lt(wi)&&yi("unsigned value cannot be negative","overflow","value",e);let h=null;o.signed?h=m.toTwos(o.width).toHexString():(h=m.toHexString(),h=Cr(h,o.width/8));const v=ye(m,o.decimals);return new Ot(se,h,v,o)}static fromBytes(e,n){n==null&&(n="fixed");const o=ee.from(n);if(ni(e).length>o.width/8)throw new Error("overflow");let m=Ut.from(e);o.signed&&(m=m.fromTwos(o.width));const h=m.toTwos((o.signed?0:1)+o.width).toHexString(),v=ye(m,o.decimals);return new Ot(se,h,v,o)}static from(e,n){if(typeof e=="string")return Ot.fromString(e,n);if(Ci(e))return Ot.fromBytes(e,n);try{return Ot.fromValue(e,0,n)}catch(o){if(o.code!==At.errors.INVALID_ARGUMENT)throw o}return Ct.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Gr=Ot.from(1),Rn=Ot.from("0.5"),Sn="contracts/5.1.1";var Yt=globalThis&&globalThis.__awaiter||function(s,e,n,o){function m(h){return h instanceof n?h:new n(function(v){v(h)})}return new(n||(n=Promise))(function(h,v){function w(E){try{y(o.next(E))}catch(N){v(N)}}function M(E){try{y(o.throw(E))}catch(N){v(N)}}function y(E){E.done?h(E.value):m(E.value).then(w,M)}y((o=o.apply(s,e||[])).next())})};const Tt=new At(Sn);function Te(s,e){return Yt(this,void 0,void 0,function*(){const n=yield e;try{return hr(n)}catch(m){}s||Tt.throwError("a provider or signer is needed to resolve ENS names",At.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const o=yield s.resolveName(n);return o==null&&Tt.throwArgumentError("resolver or addr is not configured for ENS name","name",n),o})}function Ee(s,e,n){return Yt(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((o,m)=>Ee(s,Array.isArray(e)?e[m]:e[o.name],o))):n.type==="address"?yield Te(s,e):n.type==="tuple"?yield Ee(s,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(o=>Ee(s,o,n.arrayChildren))):Promise.reject(new Error("invalid value for array")):e})}function Ae(s,e,n){return Yt(this,void 0,void 0,function*(){let o={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(o=xe(n.pop())),Tt.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),s.signer?o.from?o.from=Xe({override:Te(s.signer,o.from),signer:s.signer.getAddress()}).then(y=>Yt(this,void 0,void 0,function*(){return hr(y.signer)!==y.override&&Tt.throwError("Contract with a Signer cannot override from",At.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),y.override})):o.from=s.signer.getAddress():o.from&&(o.from=Te(s.provider,o.from));const m=yield Xe({args:Ee(s.signer||s.provider,n,e.inputs),address:s.resolvedAddress,overrides:Xe(o)||{}}),h=s.interface.encodeFunctionData(e,m.args),v={data:h,to:m.address},w=m.overrides;if(w.nonce!=null&&(v.nonce=Ut.from(w.nonce).toNumber()),w.gasLimit!=null&&(v.gasLimit=Ut.from(w.gasLimit)),w.gasPrice!=null&&(v.gasPrice=Ut.from(w.gasPrice)),w.from!=null&&(v.from=w.from),w.type!=null&&(v.type=w.type),w.accessList!=null&&(v.accessList=qi(w.accessList)),v.gasLimit==null&&e.gas!=null){let y=21e3;const E=ni(h);for(let N=0;N<E.length;N++)y+=4,E[N]&&(y+=64);v.gasLimit=Ut.from(e.gas).add(y)}if(w.value){const y=Ut.from(w.value);!y.isZero()&&!e.payable&&Tt.throwError("non-payable method cannot override value",At.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:o.value}),v.value=y}delete o.nonce,delete o.gasLimit,delete o.gasPrice,delete o.from,delete o.value,delete o.type,delete o.accessList;const M=Object.keys(o).filter(y=>o[y]!=null);return M.length&&Tt.throwError(`cannot override ${M.map(y=>JSON.stringify(y)).join(",")}`,At.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:M}),v})}function Tn(s,e){return function(...n){return Ae(s,e,n)}}function An(s,e){const n=s.signer||s.provider;return function(...o){return Yt(this,void 0,void 0,function*(){n||Tt.throwError("estimate require a provider or signer",At.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const m=yield Ae(s,e,o);return yield n.estimateGas(m)})}}function Ei(s,e,n){const o=s.signer||s.provider;return function(...m){return Yt(this,void 0,void 0,function*(){let h;if(m.length===e.inputs.length+1&&typeof m[m.length-1]=="object"){const M=xe(m.pop());M.blockTag!=null&&(h=yield M.blockTag),delete M.blockTag,m.push(M)}s.deployTransaction!=null&&(yield s._deployed(h));const v=yield Ae(s,e,m),w=yield o.call(v,h);try{let M=s.interface.decodeFunctionResult(e,w);return n&&e.outputs.length===1&&(M=M[0]),M}catch(M){throw M.code===At.errors.CALL_EXCEPTION&&(M.address=s.address,M.args=m,M.transaction=v),M}})}}function In(s,e){return function(...n){return Yt(this,void 0,void 0,function*(){s.signer||Tt.throwError("sending a transaction requires a signer",At.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),s.deployTransaction!=null&&(yield s._deployed());const o=yield Ae(s,e,n),m=yield s.signer.sendTransaction(o),h=m.wait.bind(m);return m.wait=v=>h(v).then(w=>(w.events=w.logs.map(M=>{let y=si(M),E=null;try{E=s.interface.parseLog(M)}catch(N){}return E&&(y.args=E.args,y.decode=(N,S)=>s.interface.decodeEventLog(E.eventFragment,N,S),y.event=E.name,y.eventSignature=E.signature),y.removeListener=()=>s.provider,y.getBlock=()=>s.provider.getBlock(w.blockHash),y.getTransaction=()=>s.provider.getTransaction(w.transactionHash),y.getTransactionReceipt=()=>Promise.resolve(w),y}),w)),m})}}function qr(s,e,n){return e.constant?Ei(s,e,n):In(s,e)}function bi(s){return s.address&&(s.topics==null||s.topics.length===0)?"*":(s.address||"*")+"@"+(s.topics?s.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class le{constructor(e,n){C(this,"tag",e),C(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(o=>n||o.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(o=>{const m=e.slice();return setTimeout(()=>{o.listener.apply(this,m)},0),!o.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class On extends le{constructor(){super("error",null)}}class zr extends le{constructor(e,n,o,m){const h={address:e};let v=n.getEventTopic(o);m?(v!==m[0]&&Tt.throwArgumentError("topic mismatch","topics",m),h.topics=m.slice()):h.topics=[v],super(bi(h),h),C(this,"address",e),C(this,"interface",n),C(this,"fragment",o)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,o)=>this.interface.decodeEventLog(this.fragment,n,o);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=Gi(e.args);if(n.length)throw n[0].error;const o=(e.args||[]).slice();return o.push(e),o}}class $r extends le{constructor(e,n){super("*",{address:e}),C(this,"address",e),C(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(o,m)=>this.interface.decodeEventLog(n.eventFragment,o,m),e.args=n.args}catch(n){}}}class Cn{constructor(e,n,o){Tt.checkNew(new.target,Qt),C(this,"interface",Pi(new.target,"getInterface")(n)),o==null?(C(this,"provider",null),C(this,"signer",null)):Ui.isSigner(o)?(C(this,"provider",o.provider||null),C(this,"signer",o)):Bi.isProvider(o)?(C(this,"provider",o),C(this,"signer",null)):Tt.throwArgumentError("invalid signer or provider","signerOrProvider",o),C(this,"callStatic",{}),C(this,"estimateGas",{}),C(this,"functions",{}),C(this,"populateTransaction",{}),C(this,"filters",{});{const v={};Object.keys(this.interface.events).forEach(w=>{const M=this.interface.events[w];C(this.filters,w,(...y)=>({address:this.address,topics:this.interface.encodeFilterTopics(M,y)})),v[M.name]||(v[M.name]=[]),v[M.name].push(w)}),Object.keys(v).forEach(w=>{const M=v[w];M.length===1?C(this.filters,w,this.filters[M[0]]):Tt.warn(`Duplicate definition of ${w} (${M.join(", ")})`)})}if(C(this,"_runningEvents",{}),C(this,"_wrappedEmits",{}),e==null&&Tt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),C(this,"address",e),this.provider)C(this,"resolvedAddress",Te(this.provider,e));else try{C(this,"resolvedAddress",Promise.resolve(hr(e)))}catch(v){Tt.throwError("provider is required to use ENS name as contract address",At.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const m={},h={};Object.keys(this.interface.functions).forEach(v=>{const w=this.interface.functions[v];if(h[v]){Tt.warn(`Duplicate ABI entry for ${JSON.stringify(name)}`);return}h[v]=!0;{const M=w.name;m[M]||(m[M]=[]),m[M].push(v)}this[v]==null&&C(this,v,qr(this,w,!0)),this.functions[v]==null&&C(this.functions,v,qr(this,w,!1)),this.callStatic[v]==null&&C(this.callStatic,v,Ei(this,w,!0)),this.populateTransaction[v]==null&&C(this.populateTransaction,v,Tn(this,w)),this.estimateGas[v]==null&&C(this.estimateGas,v,An(this,w))}),Object.keys(m).forEach(v=>{const w=m[v];if(w.length>1)return;const M=w[0];try{this[v]==null&&C(this,v,this[M])}catch(y){}this.functions[v]==null&&C(this.functions,v,this.functions[M]),this.callStatic[v]==null&&C(this.callStatic,v,this.callStatic[M]),this.populateTransaction[v]==null&&C(this.populateTransaction,v,this.populateTransaction[M]),this.estimateGas[v]==null&&C(this.estimateGas,v,this.estimateGas[M])})}static getContractAddress(e){return ki(e)}static getInterface(e){return Pr.isInterface(e)?e:new Pr(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&Tt.throwError("contract not deployed",At.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Tt.throwError("sending a transactions require a signer",At.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=xe(e||{});return["from","to"].forEach(function(o){n[o]!=null&&Tt.throwError("cannot override "+o,At.errors.UNSUPPORTED_OPERATION,{operation:o})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new Li(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&C(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Di.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new On);if(e==="event")return this._normalizeRunningEvent(new le("event",null));if(e==="*")return this._normalizeRunningEvent(new $r(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new zr(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const o=e.topics[0];if(typeof o!="string")throw new Error("invalid topic");const m=this.interface.getEvent(o);return this._normalizeRunningEvent(new zr(this.address,this.interface,m,e.topics))}catch(o){}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new le(bi(n),n))}return this._normalizeRunningEvent(new $r(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,o){const m=si(n);return m.removeListener=()=>{!o||(e.removeListener(o),this._checkRunningEvents(e))},m.getBlock=()=>this.provider.getBlock(n.blockHash),m.getTransaction=()=>this.provider.getTransaction(n.transactionHash),m.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(m),m}_addEventListener(e,n,o){if(this.provider||Tt.throwError("events require a provider or a signer with a provider",At.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,o),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const m=h=>{let v=this._wrapEvent(e,h,n);if(v.decodeError==null)try{const w=e.getEmit(v);this.emit(e.filter,...w)}catch(w){v.decodeError=w.error}e.filter!=null&&this.emit("event",v),v.decodeError!=null&&this.emit("error",v.decodeError,v)};this._wrappedEmits[e.tag]=m,e.filter!=null&&this.provider.on(e.filter,m)}}queryFilter(e,n,o){const m=this._getRunningEvent(e),h=xe(m.filter);return typeof n=="string"&&Fi(n,32)?(o!=null&&Tt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",o),h.blockHash=n):(h.fromBlock=n!=null?n:0,h.toBlock=o!=null?o:"latest"),this.provider.getLogs(h).then(v=>v.map(w=>this._wrapEvent(m,w,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const o=this._getRunningEvent(e),m=o.run(n)>0;return this._checkRunningEvents(o),m}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,o)=>n+this._runningEvents[o].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let o in this._runningEvents)this._runningEvents[o].listeners().forEach(m=>{n.push(m)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const o in this._runningEvents){const m=this._runningEvents[o];m.removeAllListeners(),this._checkRunningEvents(m)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const o=this._getRunningEvent(e);return o.removeListener(n),this._checkRunningEvents(o),this}removeListener(e,n){return this.off(e,n)}}class Qt extends Cn{}var _i={exports:{}};(function(s){(function(e,n){function o(d,t){if(!d)throw new Error(t||"Assertion failed")}function m(d,t){d.super_=t;var i=function(){};i.prototype=t.prototype,d.prototype=new i,d.prototype.constructor=d}function h(d,t,i){if(h.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(d||0,t||10,i||"be"))}typeof e=="object"?e.exports=h:n.BN=h,h.BN=h,h.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=zi.Buffer}catch(d){}h.isBN=function(t){return t instanceof h?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,a){if(typeof t=="number")return this._initNumber(t,i,a);if(typeof t=="object")return this._initArray(t,i,a);i==="hex"&&(i=16),o(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var l=0;t[0]==="-"&&(l++,this.negative=1),l<t.length&&(i===16?this._parseHex(t,l,a):(this._parseBase(t,i,l),a==="le"&&this._initArray(this.toArray(),i,a)))},h.prototype._initNumber=function(t,i,a){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),a==="le"&&this._initArray(this.toArray(),i,a)},h.prototype._initArray=function(t,i,a){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var c,g,p=0;if(a==="be")for(l=t.length-1,c=0;l>=0;l-=3)g=t[l]|t[l-1]<<8|t[l-2]<<16,this.words[c]|=g<<p&67108863,this.words[c+1]=g>>>26-p&67108863,p+=24,p>=26&&(p-=26,c++);else if(a==="le")for(l=0,c=0;l<t.length;l+=3)g=t[l]|t[l+1]<<8|t[l+2]<<16,this.words[c]|=g<<p&67108863,this.words[c+1]=g>>>26-p&67108863,p+=24,p>=26&&(p-=26,c++);return this.strip()};function w(d,t){var i=d.charCodeAt(t);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function M(d,t,i){var a=w(d,i);return i-1>=t&&(a|=w(d,i-1)<<4),a}h.prototype._parseHex=function(t,i,a){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var c=0,g=0,p;if(a==="be")for(l=t.length-1;l>=i;l-=2)p=M(t,i,l)<<c,this.words[g]|=p&67108863,c>=18?(c-=18,g+=1,this.words[g]|=p>>>26):c+=8;else{var f=t.length-i;for(l=f%2===0?i+1:i;l<t.length;l+=2)p=M(t,i,l)<<c,this.words[g]|=p&67108863,c>=18?(c-=18,g+=1,this.words[g]|=p>>>26):c+=8}this.strip()};function y(d,t,i,a){for(var l=0,c=Math.min(d.length,i),g=t;g<c;g++){var p=d.charCodeAt(g)-48;l*=a,p>=49?l+=p-49+10:p>=17?l+=p-17+10:l+=p}return l}h.prototype._parseBase=function(t,i,a){this.words=[0],this.length=1;for(var l=0,c=1;c<=67108863;c*=i)l++;l--,c=c/i|0;for(var g=t.length-a,p=g%l,f=Math.min(g,g-p)+a,r=0,u=a;u<f;u+=l)r=y(t,u,u+l,i),this.imuln(c),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(p!==0){var _=1;for(r=y(t,u,t.length,i),u=0;u<p;u++)_*=i;this.imuln(_),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(t,i){t=t||10,i=i|0||1;var a;if(t===16||t==="hex"){a="";for(var l=0,c=0,g=0;g<this.length;g++){var p=this.words[g],f=((p<<l|c)&16777215).toString(16);c=p>>>24-l&16777215,c!==0||g!==this.length-1?a=E[6-f.length]+f+a:a=f+a,l+=2,l>=26&&(l-=26,g--)}for(c!==0&&(a=c.toString(16)+a);a.length%i!==0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}if(t===(t|0)&&t>=2&&t<=36){var r=N[t],u=S[t];a="";var _=this.clone();for(_.negative=0;!_.isZero();){var x=_.modn(u).toString(t);_=_.idivn(u),_.isZero()?a=x+a:a=E[r-x.length]+x+a}for(this.isZero()&&(a="0"+a);a.length%i!==0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}o(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return o(typeof v<"u"),this.toArrayLike(v,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,a){var l=this.byteLength(),c=a||Math.max(1,l);o(l<=c,"byte array longer than desired length"),o(c>0,"Requested array length <= 0"),this.strip();var g=i==="le",p=new t(c),f,r,u=this.clone();if(g){for(r=0;!u.isZero();r++)f=u.andln(255),u.iushrn(8),p[r]=f;for(;r<c;r++)p[r]=0}else{for(r=0;r<c-l;r++)p[r]=0;for(r=0;!u.isZero();r++)f=u.andln(255),u.iushrn(8),p[c-r-1]=f}return p},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,a=0;return i>=4096&&(a+=13,i>>>=13),i>=64&&(a+=7,i>>>=7),i>=8&&(a+=4,i>>>=4),i>=2&&(a+=2,i>>>=2),a+i},h.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,a=0;return(i&8191)===0&&(a+=13,i>>>=13),(i&127)===0&&(a+=7,i>>>=7),(i&15)===0&&(a+=4,i>>>=4),(i&3)===0&&(a+=2,i>>>=2),(i&1)===0&&a++,a},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function q(d){for(var t=new Array(d.bitLength()),i=0;i<t.length;i++){var a=i/26|0,l=i%26;t[i]=(d.words[a]&1<<l)>>>l}return t}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var a=this._zeroBits(this.words[i]);if(t+=a,a!==26)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var a=0;a<i.length;a++)this.words[a]=this.words[a]&t.words[a];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,a;this.length>t.length?(i=this,a=t):(i=t,a=this);for(var l=0;l<a.length;l++)this.words[l]=i.words[l]^a.words[l];if(this!==i)for(;l<i.length;l++)this.words[l]=i.words[l];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,a=t%26;this._expand(i),a>0&&i--;for(var l=0;l<i;l++)this.words[l]=~this.words[l]&67108863;return a>0&&(this.words[l]=~this.words[l]&67108863>>26-a),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){o(typeof t=="number"&&t>=0);var a=t/26|0,l=t%26;return this._expand(a+1),i?this.words[a]=this.words[a]|1<<l:this.words[a]=this.words[a]&~(1<<l),this.strip()},h.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var a,l;this.length>t.length?(a=this,l=t):(a=t,l=this);for(var c=0,g=0;g<l.length;g++)i=(a.words[g]|0)+(l.words[g]|0)+c,this.words[g]=i&67108863,c=i>>>26;for(;c!==0&&g<a.length;g++)i=(a.words[g]|0)+c,this.words[g]=i&67108863,c=i>>>26;if(this.length=a.length,c!==0)this.words[this.length]=c,this.length++;else if(a!==this)for(;g<a.length;g++)this.words[g]=a.words[g];return this},h.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a=this.cmp(t);if(a===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,c;a>0?(l=this,c=t):(l=t,c=this);for(var g=0,p=0;p<c.length;p++)i=(l.words[p]|0)-(c.words[p]|0)+g,g=i>>26,this.words[p]=i&67108863;for(;g!==0&&p<l.length;p++)i=(l.words[p]|0)+g,g=i>>26,this.words[p]=i&67108863;if(g===0&&p<l.length&&l!==this)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=Math.max(this.length,p),l!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};function k(d,t,i){i.negative=t.negative^d.negative;var a=d.length+t.length|0;i.length=a,a=a-1|0;var l=d.words[0]|0,c=t.words[0]|0,g=l*c,p=g&67108863,f=g/67108864|0;i.words[0]=p;for(var r=1;r<a;r++){for(var u=f>>>26,_=f&67108863,x=Math.min(r,t.length-1),R=Math.max(0,r-d.length+1);R<=x;R++){var I=r-R|0;l=d.words[I]|0,c=t.words[R]|0,g=l*c+_,u+=g/67108864|0,_=g&67108863}i.words[r]=_|0,f=u|0}return f!==0?i.words[r]=f|0:i.length--,i.strip()}var U=function(t,i,a){var l=t.words,c=i.words,g=a.words,p=0,f,r,u,_=l[0]|0,x=_&8191,R=_>>>13,I=l[1]|0,L=I&8191,z=I>>>13,Wt=l[2]|0,$=Wt&8191,W=Wt>>>13,gr=l[3]|0,K=gr&8191,X=gr>>>13,pr=l[4]|0,J=pr&8191,j=pr>>>13,vr=l[5]|0,Y=vr&8191,Q=vr>>>13,wr=l[6]|0,tt=wr&8191,et=wr>>>13,Mr=l[7]|0,rt=Mr&8191,it=Mr>>>13,yr=l[8]|0,nt=yr&8191,st=yr>>>13,Er=l[9]|0,ot=Er&8191,at=Er>>>13,br=c[0]|0,lt=br&8191,ft=br>>>13,_r=c[1]|0,ht=_r&8191,ut=_r>>>13,xr=c[2]|0,ct=xr&8191,dt=xr>>>13,Nr=c[3]|0,mt=Nr&8191,gt=Nr>>>13,Rr=c[4]|0,pt=Rr&8191,vt=Rr>>>13,Sr=c[5]|0,wt=Sr&8191,Mt=Sr>>>13,Tr=c[6]|0,yt=Tr&8191,Et=Tr>>>13,Ar=c[7]|0,bt=Ar&8191,_t=Ar>>>13,Ir=c[8]|0,xt=Ir&8191,Nt=Ir>>>13,Or=c[9]|0,Rt=Or&8191,St=Or>>>13;a.negative=t.negative^i.negative,a.length=19,f=Math.imul(x,lt),r=Math.imul(x,ft),r=r+Math.imul(R,lt)|0,u=Math.imul(R,ft);var Ie=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,f=Math.imul(L,lt),r=Math.imul(L,ft),r=r+Math.imul(z,lt)|0,u=Math.imul(z,ft),f=f+Math.imul(x,ht)|0,r=r+Math.imul(x,ut)|0,r=r+Math.imul(R,ht)|0,u=u+Math.imul(R,ut)|0;var Oe=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,f=Math.imul($,lt),r=Math.imul($,ft),r=r+Math.imul(W,lt)|0,u=Math.imul(W,ft),f=f+Math.imul(L,ht)|0,r=r+Math.imul(L,ut)|0,r=r+Math.imul(z,ht)|0,u=u+Math.imul(z,ut)|0,f=f+Math.imul(x,ct)|0,r=r+Math.imul(x,dt)|0,r=r+Math.imul(R,ct)|0,u=u+Math.imul(R,dt)|0;var Ce=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,f=Math.imul(K,lt),r=Math.imul(K,ft),r=r+Math.imul(X,lt)|0,u=Math.imul(X,ft),f=f+Math.imul($,ht)|0,r=r+Math.imul($,ut)|0,r=r+Math.imul(W,ht)|0,u=u+Math.imul(W,ut)|0,f=f+Math.imul(L,ct)|0,r=r+Math.imul(L,dt)|0,r=r+Math.imul(z,ct)|0,u=u+Math.imul(z,dt)|0,f=f+Math.imul(x,mt)|0,r=r+Math.imul(x,gt)|0,r=r+Math.imul(R,mt)|0,u=u+Math.imul(R,gt)|0;var Pe=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,f=Math.imul(J,lt),r=Math.imul(J,ft),r=r+Math.imul(j,lt)|0,u=Math.imul(j,ft),f=f+Math.imul(K,ht)|0,r=r+Math.imul(K,ut)|0,r=r+Math.imul(X,ht)|0,u=u+Math.imul(X,ut)|0,f=f+Math.imul($,ct)|0,r=r+Math.imul($,dt)|0,r=r+Math.imul(W,ct)|0,u=u+Math.imul(W,dt)|0,f=f+Math.imul(L,mt)|0,r=r+Math.imul(L,gt)|0,r=r+Math.imul(z,mt)|0,u=u+Math.imul(z,gt)|0,f=f+Math.imul(x,pt)|0,r=r+Math.imul(x,vt)|0,r=r+Math.imul(R,pt)|0,u=u+Math.imul(R,vt)|0;var Ue=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,f=Math.imul(Y,lt),r=Math.imul(Y,ft),r=r+Math.imul(Q,lt)|0,u=Math.imul(Q,ft),f=f+Math.imul(J,ht)|0,r=r+Math.imul(J,ut)|0,r=r+Math.imul(j,ht)|0,u=u+Math.imul(j,ut)|0,f=f+Math.imul(K,ct)|0,r=r+Math.imul(K,dt)|0,r=r+Math.imul(X,ct)|0,u=u+Math.imul(X,dt)|0,f=f+Math.imul($,mt)|0,r=r+Math.imul($,gt)|0,r=r+Math.imul(W,mt)|0,u=u+Math.imul(W,gt)|0,f=f+Math.imul(L,pt)|0,r=r+Math.imul(L,vt)|0,r=r+Math.imul(z,pt)|0,u=u+Math.imul(z,vt)|0,f=f+Math.imul(x,wt)|0,r=r+Math.imul(x,Mt)|0,r=r+Math.imul(R,wt)|0,u=u+Math.imul(R,Mt)|0;var Be=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863,f=Math.imul(tt,lt),r=Math.imul(tt,ft),r=r+Math.imul(et,lt)|0,u=Math.imul(et,ft),f=f+Math.imul(Y,ht)|0,r=r+Math.imul(Y,ut)|0,r=r+Math.imul(Q,ht)|0,u=u+Math.imul(Q,ut)|0,f=f+Math.imul(J,ct)|0,r=r+Math.imul(J,dt)|0,r=r+Math.imul(j,ct)|0,u=u+Math.imul(j,dt)|0,f=f+Math.imul(K,mt)|0,r=r+Math.imul(K,gt)|0,r=r+Math.imul(X,mt)|0,u=u+Math.imul(X,gt)|0,f=f+Math.imul($,pt)|0,r=r+Math.imul($,vt)|0,r=r+Math.imul(W,pt)|0,u=u+Math.imul(W,vt)|0,f=f+Math.imul(L,wt)|0,r=r+Math.imul(L,Mt)|0,r=r+Math.imul(z,wt)|0,u=u+Math.imul(z,Mt)|0,f=f+Math.imul(x,yt)|0,r=r+Math.imul(x,Et)|0,r=r+Math.imul(R,yt)|0,u=u+Math.imul(R,Et)|0;var ke=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,f=Math.imul(rt,lt),r=Math.imul(rt,ft),r=r+Math.imul(it,lt)|0,u=Math.imul(it,ft),f=f+Math.imul(tt,ht)|0,r=r+Math.imul(tt,ut)|0,r=r+Math.imul(et,ht)|0,u=u+Math.imul(et,ut)|0,f=f+Math.imul(Y,ct)|0,r=r+Math.imul(Y,dt)|0,r=r+Math.imul(Q,ct)|0,u=u+Math.imul(Q,dt)|0,f=f+Math.imul(J,mt)|0,r=r+Math.imul(J,gt)|0,r=r+Math.imul(j,mt)|0,u=u+Math.imul(j,gt)|0,f=f+Math.imul(K,pt)|0,r=r+Math.imul(K,vt)|0,r=r+Math.imul(X,pt)|0,u=u+Math.imul(X,vt)|0,f=f+Math.imul($,wt)|0,r=r+Math.imul($,Mt)|0,r=r+Math.imul(W,wt)|0,u=u+Math.imul(W,Mt)|0,f=f+Math.imul(L,yt)|0,r=r+Math.imul(L,Et)|0,r=r+Math.imul(z,yt)|0,u=u+Math.imul(z,Et)|0,f=f+Math.imul(x,bt)|0,r=r+Math.imul(x,_t)|0,r=r+Math.imul(R,bt)|0,u=u+Math.imul(R,_t)|0;var Le=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Le>>>26)|0,Le&=67108863,f=Math.imul(nt,lt),r=Math.imul(nt,ft),r=r+Math.imul(st,lt)|0,u=Math.imul(st,ft),f=f+Math.imul(rt,ht)|0,r=r+Math.imul(rt,ut)|0,r=r+Math.imul(it,ht)|0,u=u+Math.imul(it,ut)|0,f=f+Math.imul(tt,ct)|0,r=r+Math.imul(tt,dt)|0,r=r+Math.imul(et,ct)|0,u=u+Math.imul(et,dt)|0,f=f+Math.imul(Y,mt)|0,r=r+Math.imul(Y,gt)|0,r=r+Math.imul(Q,mt)|0,u=u+Math.imul(Q,gt)|0,f=f+Math.imul(J,pt)|0,r=r+Math.imul(J,vt)|0,r=r+Math.imul(j,pt)|0,u=u+Math.imul(j,vt)|0,f=f+Math.imul(K,wt)|0,r=r+Math.imul(K,Mt)|0,r=r+Math.imul(X,wt)|0,u=u+Math.imul(X,Mt)|0,f=f+Math.imul($,yt)|0,r=r+Math.imul($,Et)|0,r=r+Math.imul(W,yt)|0,u=u+Math.imul(W,Et)|0,f=f+Math.imul(L,bt)|0,r=r+Math.imul(L,_t)|0,r=r+Math.imul(z,bt)|0,u=u+Math.imul(z,_t)|0,f=f+Math.imul(x,xt)|0,r=r+Math.imul(x,Nt)|0,r=r+Math.imul(R,xt)|0,u=u+Math.imul(R,Nt)|0;var De=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(De>>>26)|0,De&=67108863,f=Math.imul(ot,lt),r=Math.imul(ot,ft),r=r+Math.imul(at,lt)|0,u=Math.imul(at,ft),f=f+Math.imul(nt,ht)|0,r=r+Math.imul(nt,ut)|0,r=r+Math.imul(st,ht)|0,u=u+Math.imul(st,ut)|0,f=f+Math.imul(rt,ct)|0,r=r+Math.imul(rt,dt)|0,r=r+Math.imul(it,ct)|0,u=u+Math.imul(it,dt)|0,f=f+Math.imul(tt,mt)|0,r=r+Math.imul(tt,gt)|0,r=r+Math.imul(et,mt)|0,u=u+Math.imul(et,gt)|0,f=f+Math.imul(Y,pt)|0,r=r+Math.imul(Y,vt)|0,r=r+Math.imul(Q,pt)|0,u=u+Math.imul(Q,vt)|0,f=f+Math.imul(J,wt)|0,r=r+Math.imul(J,Mt)|0,r=r+Math.imul(j,wt)|0,u=u+Math.imul(j,Mt)|0,f=f+Math.imul(K,yt)|0,r=r+Math.imul(K,Et)|0,r=r+Math.imul(X,yt)|0,u=u+Math.imul(X,Et)|0,f=f+Math.imul($,bt)|0,r=r+Math.imul($,_t)|0,r=r+Math.imul(W,bt)|0,u=u+Math.imul(W,_t)|0,f=f+Math.imul(L,xt)|0,r=r+Math.imul(L,Nt)|0,r=r+Math.imul(z,xt)|0,u=u+Math.imul(z,Nt)|0,f=f+Math.imul(x,Rt)|0,r=r+Math.imul(x,St)|0,r=r+Math.imul(R,Rt)|0,u=u+Math.imul(R,St)|0;var Fe=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,f=Math.imul(ot,ht),r=Math.imul(ot,ut),r=r+Math.imul(at,ht)|0,u=Math.imul(at,ut),f=f+Math.imul(nt,ct)|0,r=r+Math.imul(nt,dt)|0,r=r+Math.imul(st,ct)|0,u=u+Math.imul(st,dt)|0,f=f+Math.imul(rt,mt)|0,r=r+Math.imul(rt,gt)|0,r=r+Math.imul(it,mt)|0,u=u+Math.imul(it,gt)|0,f=f+Math.imul(tt,pt)|0,r=r+Math.imul(tt,vt)|0,r=r+Math.imul(et,pt)|0,u=u+Math.imul(et,vt)|0,f=f+Math.imul(Y,wt)|0,r=r+Math.imul(Y,Mt)|0,r=r+Math.imul(Q,wt)|0,u=u+Math.imul(Q,Mt)|0,f=f+Math.imul(J,yt)|0,r=r+Math.imul(J,Et)|0,r=r+Math.imul(j,yt)|0,u=u+Math.imul(j,Et)|0,f=f+Math.imul(K,bt)|0,r=r+Math.imul(K,_t)|0,r=r+Math.imul(X,bt)|0,u=u+Math.imul(X,_t)|0,f=f+Math.imul($,xt)|0,r=r+Math.imul($,Nt)|0,r=r+Math.imul(W,xt)|0,u=u+Math.imul(W,Nt)|0,f=f+Math.imul(L,Rt)|0,r=r+Math.imul(L,St)|0,r=r+Math.imul(z,Rt)|0,u=u+Math.imul(z,St)|0;var Ge=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,f=Math.imul(ot,ct),r=Math.imul(ot,dt),r=r+Math.imul(at,ct)|0,u=Math.imul(at,dt),f=f+Math.imul(nt,mt)|0,r=r+Math.imul(nt,gt)|0,r=r+Math.imul(st,mt)|0,u=u+Math.imul(st,gt)|0,f=f+Math.imul(rt,pt)|0,r=r+Math.imul(rt,vt)|0,r=r+Math.imul(it,pt)|0,u=u+Math.imul(it,vt)|0,f=f+Math.imul(tt,wt)|0,r=r+Math.imul(tt,Mt)|0,r=r+Math.imul(et,wt)|0,u=u+Math.imul(et,Mt)|0,f=f+Math.imul(Y,yt)|0,r=r+Math.imul(Y,Et)|0,r=r+Math.imul(Q,yt)|0,u=u+Math.imul(Q,Et)|0,f=f+Math.imul(J,bt)|0,r=r+Math.imul(J,_t)|0,r=r+Math.imul(j,bt)|0,u=u+Math.imul(j,_t)|0,f=f+Math.imul(K,xt)|0,r=r+Math.imul(K,Nt)|0,r=r+Math.imul(X,xt)|0,u=u+Math.imul(X,Nt)|0,f=f+Math.imul($,Rt)|0,r=r+Math.imul($,St)|0,r=r+Math.imul(W,Rt)|0,u=u+Math.imul(W,St)|0;var qe=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(qe>>>26)|0,qe&=67108863,f=Math.imul(ot,mt),r=Math.imul(ot,gt),r=r+Math.imul(at,mt)|0,u=Math.imul(at,gt),f=f+Math.imul(nt,pt)|0,r=r+Math.imul(nt,vt)|0,r=r+Math.imul(st,pt)|0,u=u+Math.imul(st,vt)|0,f=f+Math.imul(rt,wt)|0,r=r+Math.imul(rt,Mt)|0,r=r+Math.imul(it,wt)|0,u=u+Math.imul(it,Mt)|0,f=f+Math.imul(tt,yt)|0,r=r+Math.imul(tt,Et)|0,r=r+Math.imul(et,yt)|0,u=u+Math.imul(et,Et)|0,f=f+Math.imul(Y,bt)|0,r=r+Math.imul(Y,_t)|0,r=r+Math.imul(Q,bt)|0,u=u+Math.imul(Q,_t)|0,f=f+Math.imul(J,xt)|0,r=r+Math.imul(J,Nt)|0,r=r+Math.imul(j,xt)|0,u=u+Math.imul(j,Nt)|0,f=f+Math.imul(K,Rt)|0,r=r+Math.imul(K,St)|0,r=r+Math.imul(X,Rt)|0,u=u+Math.imul(X,St)|0;var ze=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(ze>>>26)|0,ze&=67108863,f=Math.imul(ot,pt),r=Math.imul(ot,vt),r=r+Math.imul(at,pt)|0,u=Math.imul(at,vt),f=f+Math.imul(nt,wt)|0,r=r+Math.imul(nt,Mt)|0,r=r+Math.imul(st,wt)|0,u=u+Math.imul(st,Mt)|0,f=f+Math.imul(rt,yt)|0,r=r+Math.imul(rt,Et)|0,r=r+Math.imul(it,yt)|0,u=u+Math.imul(it,Et)|0,f=f+Math.imul(tt,bt)|0,r=r+Math.imul(tt,_t)|0,r=r+Math.imul(et,bt)|0,u=u+Math.imul(et,_t)|0,f=f+Math.imul(Y,xt)|0,r=r+Math.imul(Y,Nt)|0,r=r+Math.imul(Q,xt)|0,u=u+Math.imul(Q,Nt)|0,f=f+Math.imul(J,Rt)|0,r=r+Math.imul(J,St)|0,r=r+Math.imul(j,Rt)|0,u=u+Math.imul(j,St)|0;var $e=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+($e>>>26)|0,$e&=67108863,f=Math.imul(ot,wt),r=Math.imul(ot,Mt),r=r+Math.imul(at,wt)|0,u=Math.imul(at,Mt),f=f+Math.imul(nt,yt)|0,r=r+Math.imul(nt,Et)|0,r=r+Math.imul(st,yt)|0,u=u+Math.imul(st,Et)|0,f=f+Math.imul(rt,bt)|0,r=r+Math.imul(rt,_t)|0,r=r+Math.imul(it,bt)|0,u=u+Math.imul(it,_t)|0,f=f+Math.imul(tt,xt)|0,r=r+Math.imul(tt,Nt)|0,r=r+Math.imul(et,xt)|0,u=u+Math.imul(et,Nt)|0,f=f+Math.imul(Y,Rt)|0,r=r+Math.imul(Y,St)|0,r=r+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,St)|0;var He=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(He>>>26)|0,He&=67108863,f=Math.imul(ot,yt),r=Math.imul(ot,Et),r=r+Math.imul(at,yt)|0,u=Math.imul(at,Et),f=f+Math.imul(nt,bt)|0,r=r+Math.imul(nt,_t)|0,r=r+Math.imul(st,bt)|0,u=u+Math.imul(st,_t)|0,f=f+Math.imul(rt,xt)|0,r=r+Math.imul(rt,Nt)|0,r=r+Math.imul(it,xt)|0,u=u+Math.imul(it,Nt)|0,f=f+Math.imul(tt,Rt)|0,r=r+Math.imul(tt,St)|0,r=r+Math.imul(et,Rt)|0,u=u+Math.imul(et,St)|0;var Ve=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,f=Math.imul(ot,bt),r=Math.imul(ot,_t),r=r+Math.imul(at,bt)|0,u=Math.imul(at,_t),f=f+Math.imul(nt,xt)|0,r=r+Math.imul(nt,Nt)|0,r=r+Math.imul(st,xt)|0,u=u+Math.imul(st,Nt)|0,f=f+Math.imul(rt,Rt)|0,r=r+Math.imul(rt,St)|0,r=r+Math.imul(it,Rt)|0,u=u+Math.imul(it,St)|0;var We=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(We>>>26)|0,We&=67108863,f=Math.imul(ot,xt),r=Math.imul(ot,Nt),r=r+Math.imul(at,xt)|0,u=Math.imul(at,Nt),f=f+Math.imul(nt,Rt)|0,r=r+Math.imul(nt,St)|0,r=r+Math.imul(st,Rt)|0,u=u+Math.imul(st,St)|0;var Ze=(p+f|0)+((r&8191)<<13)|0;p=(u+(r>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,f=Math.imul(ot,Rt),r=Math.imul(ot,St),r=r+Math.imul(at,Rt)|0,u=Math.imul(at,St);var Ke=(p+f|0)+((r&8191)<<13)|0;return p=(u+(r>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,g[0]=Ie,g[1]=Oe,g[2]=Ce,g[3]=Pe,g[4]=Ue,g[5]=Be,g[6]=ke,g[7]=Le,g[8]=De,g[9]=Fe,g[10]=Ge,g[11]=qe,g[12]=ze,g[13]=$e,g[14]=He,g[15]=Ve,g[16]=We,g[17]=Ze,g[18]=Ke,p!==0&&(g[19]=p,a.length++),a};Math.imul||(U=k);function O(d,t,i){i.negative=t.negative^d.negative,i.length=d.length+t.length;for(var a=0,l=0,c=0;c<i.length-1;c++){var g=l;l=0;for(var p=a&67108863,f=Math.min(c,t.length-1),r=Math.max(0,c-d.length+1);r<=f;r++){var u=c-r,_=d.words[u]|0,x=t.words[r]|0,R=_*x,I=R&67108863;g=g+(R/67108864|0)|0,I=I+p|0,p=I&67108863,g=g+(I>>>26)|0,l+=g>>>26,g&=67108863}i.words[c]=p,a=g,g=l}return a!==0?i.words[c]=a:i.length--,i.strip()}function b(d,t,i){var a=new T;return a.mulp(d,t,i)}h.prototype.mulTo=function(t,i){var a,l=this.length+t.length;return this.length===10&&t.length===10?a=U(this,t,i):l<63?a=k(this,t,i):l<1024?a=O(this,t,i):a=b(this,t,i),a};function T(d,t){this.x=d,this.y=t}T.prototype.makeRBT=function(t){for(var i=new Array(t),a=h.prototype._countBits(t)-1,l=0;l<t;l++)i[l]=this.revBin(l,a,t);return i},T.prototype.revBin=function(t,i,a){if(t===0||t===a-1)return t;for(var l=0,c=0;c<i;c++)l|=(t&1)<<i-c-1,t>>=1;return l},T.prototype.permute=function(t,i,a,l,c,g){for(var p=0;p<g;p++)l[p]=i[t[p]],c[p]=a[t[p]]},T.prototype.transform=function(t,i,a,l,c,g){this.permute(g,t,i,a,l,c);for(var p=1;p<c;p<<=1)for(var f=p<<1,r=Math.cos(2*Math.PI/f),u=Math.sin(2*Math.PI/f),_=0;_<c;_+=f)for(var x=r,R=u,I=0;I<p;I++){var L=a[_+I],z=l[_+I],Wt=a[_+I+p],$=l[_+I+p],W=x*Wt-R*$;$=x*$+R*Wt,Wt=W,a[_+I]=L+Wt,l[_+I]=z+$,a[_+I+p]=L-Wt,l[_+I+p]=z-$,I!==f&&(W=r*x-u*R,R=r*R+u*x,x=W)}},T.prototype.guessLen13b=function(t,i){var a=Math.max(i,t)|1,l=a&1,c=0;for(a=a/2|0;a;a=a>>>1)c++;return 1<<c+1+l},T.prototype.conjugate=function(t,i,a){if(!(a<=1))for(var l=0;l<a/2;l++){var c=t[l];t[l]=t[a-l-1],t[a-l-1]=c,c=i[l],i[l]=-i[a-l-1],i[a-l-1]=-c}},T.prototype.normalize13b=function(t,i){for(var a=0,l=0;l<i/2;l++){var c=Math.round(t[2*l+1]/i)*8192+Math.round(t[2*l]/i)+a;t[l]=c&67108863,c<67108864?a=0:a=c/67108864|0}return t},T.prototype.convert13b=function(t,i,a,l){for(var c=0,g=0;g<i;g++)c=c+(t[g]|0),a[2*g]=c&8191,c=c>>>13,a[2*g+1]=c&8191,c=c>>>13;for(g=2*i;g<l;++g)a[g]=0;o(c===0),o((c&-8192)===0)},T.prototype.stub=function(t){for(var i=new Array(t),a=0;a<t;a++)i[a]=0;return i},T.prototype.mulp=function(t,i,a){var l=2*this.guessLen13b(t.length,i.length),c=this.makeRBT(l),g=this.stub(l),p=new Array(l),f=new Array(l),r=new Array(l),u=new Array(l),_=new Array(l),x=new Array(l),R=a.words;R.length=l,this.convert13b(t.words,t.length,p,l),this.convert13b(i.words,i.length,u,l),this.transform(p,g,f,r,l,c),this.transform(u,g,_,x,l,c);for(var I=0;I<l;I++){var L=f[I]*_[I]-r[I]*x[I];r[I]=f[I]*x[I]+r[I]*_[I],f[I]=L}return this.conjugate(f,r,l),this.transform(f,r,R,g,l,c),this.conjugate(R,g,l),this.normalize13b(R,l),a.negative=t.negative^i.negative,a.length=t.length+i.length,a.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),b(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){o(typeof t=="number"),o(t<67108864);for(var i=0,a=0;a<this.length;a++){var l=(this.words[a]|0)*t,c=(l&67108863)+(i&67108863);i>>=26,i+=l/67108864|0,i+=c>>>26,this.words[a]=c&67108863}return i!==0&&(this.words[a]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=q(t);if(i.length===0)return new h(1);for(var a=this,l=0;l<i.length&&i[l]===0;l++,a=a.sqr());if(++l<i.length)for(var c=a.sqr();l<i.length;l++,c=c.sqr())i[l]!==0&&(a=a.mul(c));return a},h.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var i=t%26,a=(t-i)/26,l=67108863>>>26-i<<26-i,c;if(i!==0){var g=0;for(c=0;c<this.length;c++){var p=this.words[c]&l,f=(this.words[c]|0)-p<<i;this.words[c]=f|g,g=p>>>26-i}g&&(this.words[c]=g,this.length++)}if(a!==0){for(c=this.length-1;c>=0;c--)this.words[c+a]=this.words[c];for(c=0;c<a;c++)this.words[c]=0;this.length+=a}return this.strip()},h.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},h.prototype.iushrn=function(t,i,a){o(typeof t=="number"&&t>=0);var l;i?l=(i-i%26)/26:l=0;var c=t%26,g=Math.min((t-c)/26,this.length),p=67108863^67108863>>>c<<c,f=a;if(l-=g,l=Math.max(0,l),f){for(var r=0;r<g;r++)f.words[r]=this.words[r];f.length=g}if(g!==0)if(this.length>g)for(this.length-=g,r=0;r<this.length;r++)this.words[r]=this.words[r+g];else this.words[0]=0,this.length=1;var u=0;for(r=this.length-1;r>=0&&(u!==0||r>=l);r--){var _=this.words[r]|0;this.words[r]=u<<26-c|_>>>c,u=_&p}return f&&u!==0&&(f.words[f.length++]=u),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,a){return o(this.negative===0),this.iushrn(t,i,a)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,a=(t-i)/26,l=1<<i;if(this.length<=a)return!1;var c=this.words[a];return!!(c&l)},h.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,a=(t-i)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=a)return this;if(i!==0&&a++,this.length=Math.min(a,this.length),i!==0){var l=67108863^67108863>>>i<<i;this.words[this.length-1]&=l}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,a){var l=t.length+a,c;this._expand(l);var g,p=0;for(c=0;c<t.length;c++){g=(this.words[c+a]|0)+p;var f=(t.words[c]|0)*i;g-=f&67108863,p=(g>>26)-(f/67108864|0),this.words[c+a]=g&67108863}for(;c<this.length-a;c++)g=(this.words[c+a]|0)+p,p=g>>26,this.words[c+a]=g&67108863;if(p===0)return this.strip();for(o(p===-1),p=0,c=0;c<this.length;c++)g=-(this.words[c]|0)+p,p=g>>26,this.words[c]=g&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var a=this.length-t.length,l=this.clone(),c=t,g=c.words[c.length-1]|0,p=this._countBits(g);a=26-p,a!==0&&(c=c.ushln(a),l.iushln(a),g=c.words[c.length-1]|0);var f=l.length-c.length,r;if(i!=="mod"){r=new h(null),r.length=f+1,r.words=new Array(r.length);for(var u=0;u<r.length;u++)r.words[u]=0}var _=l.clone()._ishlnsubmul(c,1,f);_.negative===0&&(l=_,r&&(r.words[f]=1));for(var x=f-1;x>=0;x--){var R=(l.words[c.length+x]|0)*67108864+(l.words[c.length+x-1]|0);for(R=Math.min(R/g|0,67108863),l._ishlnsubmul(c,R,x);l.negative!==0;)R--,l.negative=0,l._ishlnsubmul(c,1,x),l.isZero()||(l.negative^=1);r&&(r.words[x]=R)}return r&&r.strip(),l.strip(),i!=="div"&&a!==0&&l.iushrn(a),{div:r||null,mod:l}},h.prototype.divmod=function(t,i,a){if(o(!t.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var l,c,g;return this.negative!==0&&t.negative===0?(g=this.neg().divmod(t,i),i!=="mod"&&(l=g.div.neg()),i!=="div"&&(c=g.mod.neg(),a&&c.negative!==0&&c.iadd(t)),{div:l,mod:c}):this.negative===0&&t.negative!==0?(g=this.divmod(t.neg(),i),i!=="mod"&&(l=g.div.neg()),{div:l,mod:g.mod}):(this.negative&t.negative)!==0?(g=this.neg().divmod(t.neg(),i),i!=="div"&&(c=g.mod.neg(),a&&c.negative!==0&&c.isub(t)),{div:g.div,mod:c}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i)},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var a=i.div.negative!==0?i.mod.isub(t):i.mod,l=t.ushrn(1),c=t.andln(1),g=a.cmp(l);return g<0||c===1&&g===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){o(t<=67108863);for(var i=(1<<26)%t,a=0,l=this.length-1;l>=0;l--)a=(i*a+(this.words[l]|0))%t;return a},h.prototype.idivn=function(t){o(t<=67108863);for(var i=0,a=this.length-1;a>=0;a--){var l=(this.words[a]|0)+i*67108864;this.words[a]=l/t|0,i=l%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var i=this,a=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var l=new h(1),c=new h(0),g=new h(0),p=new h(1),f=0;i.isEven()&&a.isEven();)i.iushrn(1),a.iushrn(1),++f;for(var r=a.clone(),u=i.clone();!i.isZero();){for(var _=0,x=1;(i.words[0]&x)===0&&_<26;++_,x<<=1);if(_>0)for(i.iushrn(_);_-- >0;)(l.isOdd()||c.isOdd())&&(l.iadd(r),c.isub(u)),l.iushrn(1),c.iushrn(1);for(var R=0,I=1;(a.words[0]&I)===0&&R<26;++R,I<<=1);if(R>0)for(a.iushrn(R);R-- >0;)(g.isOdd()||p.isOdd())&&(g.iadd(r),p.isub(u)),g.iushrn(1),p.iushrn(1);i.cmp(a)>=0?(i.isub(a),l.isub(g),c.isub(p)):(a.isub(i),g.isub(l),p.isub(c))}return{a:g,b:p,gcd:a.iushln(f)}},h.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var i=this,a=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var l=new h(1),c=new h(0),g=a.clone();i.cmpn(1)>0&&a.cmpn(1)>0;){for(var p=0,f=1;(i.words[0]&f)===0&&p<26;++p,f<<=1);if(p>0)for(i.iushrn(p);p-- >0;)l.isOdd()&&l.iadd(g),l.iushrn(1);for(var r=0,u=1;(a.words[0]&u)===0&&r<26;++r,u<<=1);if(r>0)for(a.iushrn(r);r-- >0;)c.isOdd()&&c.iadd(g),c.iushrn(1);i.cmp(a)>=0?(i.isub(a),l.isub(c)):(a.isub(i),c.isub(l))}var _;return i.cmpn(1)===0?_=l:_=c,_.cmpn(0)<0&&_.iadd(t),_},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),a=t.clone();i.negative=0,a.negative=0;for(var l=0;i.isEven()&&a.isEven();l++)i.iushrn(1),a.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;a.isEven();)a.iushrn(1);var c=i.cmp(a);if(c<0){var g=i;i=a,a=g}else if(c===0||a.cmpn(1)===0)break;i.isub(a)}while(!0);return a.iushln(l)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){o(typeof t=="number");var i=t%26,a=(t-i)/26,l=1<<i;if(this.length<=a)return this._expand(a+1),this.words[a]|=l,this;for(var c=l,g=a;c!==0&&g<this.length;g++){var p=this.words[g]|0;p+=c,c=p>>>26,p&=67108863,this.words[g]=p}return c!==0&&(this.words[g]=c,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this.strip();var a;if(this.length>1)a=1;else{i&&(t=-t),o(t<=67108863,"Number is too big");var l=this.words[0]|0;a=l===t?0:l<t?-1:1}return this.negative!==0?-a|0:a},h.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,a=this.length-1;a>=0;a--){var l=this.words[a]|0,c=t.words[a]|0;if(l!==c){l<c?i=-1:l>c&&(i=1);break}}return i},h.prototype.gtn=function(t){return this.cmpn(t)===1},h.prototype.gt=function(t){return this.cmp(t)===1},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return this.cmpn(t)===-1},h.prototype.lt=function(t){return this.cmp(t)===-1},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return this.cmpn(t)===0},h.prototype.eq=function(t){return this.cmp(t)===0},h.red=function(t){return new V(t)},h.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var D={k256:null,p224:null,p192:null,p25519:null};function A(d,t){this.name=d,this.p=new h(t,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var i=t,a;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),a=i.bitLength();while(a>this.n);var l=a<this.n?-1:i.ucmp(this.p);return l===0?(i.words[0]=0,i.length=1):l>0?i.isub(this.p):i.strip!==void 0?i.strip():i._strip(),i},A.prototype.split=function(t,i){t.iushrn(this.n,0,i)},A.prototype.imulK=function(t){return t.imul(this.k)};function F(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(F,A),F.prototype.split=function(t,i){for(var a=4194303,l=Math.min(t.length,9),c=0;c<l;c++)i.words[c]=t.words[c];if(i.length=l,t.length<=9){t.words[0]=0,t.length=1;return}var g=t.words[9];for(i.words[i.length++]=g&a,c=10;c<t.length;c++){var p=t.words[c]|0;t.words[c-10]=(p&a)<<4|g>>>22,g=p}g>>>=22,t.words[c-10]=g,g===0&&t.length>10?t.length-=10:t.length-=9},F.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,a=0;a<t.length;a++){var l=t.words[a]|0;i+=l*977,t.words[a]=i&67108863,i=l*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Gt(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(Gt,A);function Jt(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(Jt,A);function Vt(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m(Vt,A),Vt.prototype.imulK=function(t){for(var i=0,a=0;a<t.length;a++){var l=(t.words[a]|0)*19+i,c=l&67108863;l>>>=26,t.words[a]=c,i=l}return i!==0&&(t.words[t.length++]=i),t},h._prime=function(t){if(D[t])return D[t];var i;if(t==="k256")i=new F;else if(t==="p224")i=new Gt;else if(t==="p192")i=new Jt;else if(t==="p25519")i=new Vt;else throw new Error("Unknown prime "+t);return D[t]=i,i};function V(d){if(typeof d=="string"){var t=h._prime(d);this.m=t.p,this.prime=t}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}V.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},V.prototype._verify2=function(t,i){o((t.negative|i.negative)===0,"red works only with positives"),o(t.red&&t.red===i.red,"red works only with red numbers")},V.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},V.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},V.prototype.add=function(t,i){this._verify2(t,i);var a=t.add(i);return a.cmp(this.m)>=0&&a.isub(this.m),a._forceRed(this)},V.prototype.iadd=function(t,i){this._verify2(t,i);var a=t.iadd(i);return a.cmp(this.m)>=0&&a.isub(this.m),a},V.prototype.sub=function(t,i){this._verify2(t,i);var a=t.sub(i);return a.cmpn(0)<0&&a.iadd(this.m),a._forceRed(this)},V.prototype.isub=function(t,i){this._verify2(t,i);var a=t.isub(i);return a.cmpn(0)<0&&a.iadd(this.m),a},V.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},V.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},V.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},V.prototype.isqr=function(t){return this.imul(t,t.clone())},V.prototype.sqr=function(t){return this.mul(t,t)},V.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(o(i%2===1),i===3){var a=this.m.add(new h(1)).iushrn(2);return this.pow(t,a)}for(var l=this.m.subn(1),c=0;!l.isZero()&&l.andln(1)===0;)c++,l.iushrn(1);o(!l.isZero());var g=new h(1).toRed(this),p=g.redNeg(),f=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new h(2*r*r).toRed(this);this.pow(r,f).cmp(p)!==0;)r.redIAdd(p);for(var u=this.pow(r,l),_=this.pow(t,l.addn(1).iushrn(1)),x=this.pow(t,l),R=c;x.cmp(g)!==0;){for(var I=x,L=0;I.cmp(g)!==0;L++)I=I.redSqr();o(L<R);var z=this.pow(u,new h(1).iushln(R-L-1));_=_.redMul(z),u=z.redSqr(),x=x.redMul(u),R=L}return _},V.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},V.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var a=4,l=new Array(1<<a);l[0]=new h(1).toRed(this),l[1]=t;for(var c=2;c<l.length;c++)l[c]=this.mul(l[c-1],t);var g=l[0],p=0,f=0,r=i.bitLength()%26;for(r===0&&(r=26),c=i.length-1;c>=0;c--){for(var u=i.words[c],_=r-1;_>=0;_--){var x=u>>_&1;if(g!==l[0]&&(g=this.sqr(g)),x===0&&p===0){f=0;continue}p<<=1,p|=x,f++,!(f!==a&&(c!==0||_!==0))&&(g=this.mul(g,l[p]),f=0,p=0)}r=26}return g},V.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},V.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new qt(t)};function qt(d){V.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(qt,V),qt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},qt.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},qt.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var a=t.imul(i),l=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=a.isub(l).iushrn(this.shift),g=c;return c.cmp(this.m)>=0?g=c.isub(this.m):c.cmpn(0)<0&&(g=c.iadd(this.m)),g._forceRed(this)},qt.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var a=t.mul(i),l=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=a.isub(l).iushrn(this.shift),g=c;return c.cmp(this.m)>=0?g=c.isub(this.m):c.cmpn(0)<0&&(g=c.iadd(this.m)),g._forceRed(this)},qt.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(s,$i)})(_i);const Pn=_i.exports,Un="logger/5.7.0";let Hr=!1,Vr=!1;const be={debug:1,default:2,info:2,warning:3,error:4,off:5};let Wr=be.default,je=null;function Bn(){try{const s=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(n){s.push(e)}}),s.length)throw new Error("missing "+s.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(s){return s.message}return null}const Zr=Bn();var sr;(function(s){s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF"})(sr||(sr={}));var Ft;(function(s){s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",s.TRANSACTION_REPLACED="TRANSACTION_REPLACED",s.ACTION_REJECTED="ACTION_REJECTED"})(Ft||(Ft={}));const Kr="0123456789abcdef";class G{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const o=e.toLowerCase();be[o]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Wr>be[o])&&console.log.apply(console,n)}debug(...e){this._log(G.levels.DEBUG,e)}info(...e){this._log(G.levels.INFO,e)}warn(...e){this._log(G.levels.WARNING,e)}makeError(e,n,o){if(Vr)return this.makeError("censored error",n,{});n||(n=G.errors.UNKNOWN_ERROR),o||(o={});const m=[];Object.keys(o).forEach(M=>{const y=o[M];try{if(y instanceof Uint8Array){let E="";for(let N=0;N<y.length;N++)E+=Kr[y[N]>>4],E+=Kr[y[N]&15];m.push(M+"=Uint8Array(0x"+E+")")}else m.push(M+"="+JSON.stringify(y))}catch(E){m.push(M+"="+JSON.stringify(o[M].toString()))}}),m.push(`code=${n}`),m.push(`version=${this.version}`);const h=e;let v="";switch(n){case Ft.NUMERIC_FAULT:{v="NUMERIC_FAULT";const M=e;switch(M){case"overflow":case"underflow":case"division-by-zero":v+="-"+M;break;case"negative-power":case"negative-width":v+="-unsupported";break;case"unbound-bitwise-result":v+="-unbound-result";break}break}case Ft.CALL_EXCEPTION:case Ft.INSUFFICIENT_FUNDS:case Ft.MISSING_NEW:case Ft.NONCE_EXPIRED:case Ft.REPLACEMENT_UNDERPRICED:case Ft.TRANSACTION_REPLACED:case Ft.UNPREDICTABLE_GAS_LIMIT:v=n;break}v&&(e+=" [ See: https://links.ethers.org/v5-errors-"+v+" ]"),m.length&&(e+=" ("+m.join(", ")+")");const w=new Error(e);return w.reason=h,w.code=n,Object.keys(o).forEach(function(M){w[M]=o[M]}),w}throwError(e,n,o){throw this.makeError(e,n,o)}throwArgumentError(e,n,o){return this.throwError(e,G.errors.INVALID_ARGUMENT,{argument:n,value:o})}assert(e,n,o,m){e||this.throwError(n,o,m)}assertArgument(e,n,o,m){e||this.throwArgumentError(n,o,m)}checkNormalize(e){Zr&&this.throwError("platform missing String.prototype.normalize",G.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Zr})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,G.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,G.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,o){o?o=": "+o:o="",e<n&&this.throwError("missing argument"+o,G.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+o,G.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",G.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",G.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",G.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return je||(je=new G(Un)),je}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",G.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Hr){if(!e)return;this.globalLogger().throwError("error censorship permanent",G.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Vr=!!e,Hr=!!n}static setLogLevel(e){const n=be[e.toLowerCase()];if(n==null){G.globalLogger().warn("invalid log level - "+e);return}Wr=n}static from(e){return new G(e)}}G.errors=Ft;G.levels=sr;const kn="bytes/5.7.0",Ye=new G(kn);function Ln(s){return!!s.toHexString}function Xr(s){return typeof s=="number"&&s==s&&s%1===0}function xi(s){if(s==null)return!1;if(s.constructor===Uint8Array)return!0;if(typeof s=="string"||!Xr(s.length)||s.length<0)return!1;for(let e=0;e<s.length;e++){const n=s[e];if(!Xr(n)||n<0||n>=256)return!1}return!0}function or(s,e){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||e&&s.length!==2+2*e)}const Qe="0123456789abcdef";function Dn(s,e){if(e||(e={}),typeof s=="number"){Ye.checkSafeUint53(s,"invalid hexlify value");let n="";for(;s;)n=Qe[s&15]+n,s=Math.floor(s/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof s=="bigint")return s=s.toString(16),s.length%2?"0x0"+s:"0x"+s;if(e.allowMissingPrefix&&typeof s=="string"&&s.substring(0,2)!=="0x"&&(s="0x"+s),Ln(s))return s.toHexString();if(or(s))return s.length%2&&(e.hexPad==="left"?s="0x0"+s.substring(2):e.hexPad==="right"?s+="0":Ye.throwArgumentError("hex data is odd-length","value",s)),s.toLowerCase();if(xi(s)){let n="0x";for(let o=0;o<s.length;o++){let m=s[o];n+=Qe[(m&240)>>4]+Qe[m&15]}return n}return Ye.throwArgumentError("invalid hexlify value","value",s)}const Fn="bignumber/5.1.1";var ar=Pn.BN;const $t=new G(Fn),tr={},Jr=9007199254740991;let jr=!1;class H{constructor(e,n){$t.checkNew(new.target,H),e!==tr&&$t.throwError("cannot call constructor directly; use BigNumber.from",G.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Pt(B(this).fromTwos(e))}toTwos(e){return Pt(B(this).toTwos(e))}abs(){return this._hex[0]==="-"?H.from(this._hex.substring(1)):this}add(e){return Pt(B(this).add(B(e)))}sub(e){return Pt(B(this).sub(B(e)))}div(e){return H.from(e).isZero()&&Bt("division by zero","div"),Pt(B(this).div(B(e)))}mul(e){return Pt(B(this).mul(B(e)))}mod(e){const n=B(e);return n.isNeg()&&Bt("cannot modulo negative values","mod"),Pt(B(this).umod(n))}pow(e){const n=B(e);return n.isNeg()&&Bt("cannot raise to negative values","pow"),Pt(B(this).pow(n))}and(e){const n=B(e);return(this.isNegative()||n.isNeg())&&Bt("cannot 'and' negative values","and"),Pt(B(this).and(n))}or(e){const n=B(e);return(this.isNegative()||n.isNeg())&&Bt("cannot 'or' negative values","or"),Pt(B(this).or(n))}xor(e){const n=B(e);return(this.isNegative()||n.isNeg())&&Bt("cannot 'xor' negative values","xor"),Pt(B(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Bt("cannot mask negative values","mask"),Pt(B(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Bt("cannot shift negative values","shl"),Pt(B(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Bt("cannot shift negative values","shr"),Pt(B(this).shrn(e))}eq(e){return B(this).eq(B(e))}lt(e){return B(this).lt(B(e))}lte(e){return B(this).lte(B(e))}gt(e){return B(this).gt(B(e))}gte(e){return B(this).gte(B(e))}isNegative(){return this._hex[0]==="-"}isZero(){return B(this).isZero()}toNumber(){try{return B(this).toNumber()}catch(e){Bt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return $t.throwError("this platform does not support BigInt",G.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?jr||(jr=!0,$t.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?$t.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",G.errors.UNEXPECTED_ARGUMENT,{}):$t.throwError("BigNumber.toString does not accept parameters",G.errors.UNEXPECTED_ARGUMENT,{})),B(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof H)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new H(tr,fe(e)):e.match(/^-?[0-9]+$/)?new H(tr,fe(new ar(e))):$t.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Bt("underflow","BigNumber.from",e),(e>=Jr||e<=-Jr)&&Bt("overflow","BigNumber.from",e),H.from(String(e));const n=e;if(typeof n=="bigint")return H.from(n.toString());if(xi(n))return H.from(Dn(n));if(n)if(n.toHexString){const o=n.toHexString();if(typeof o=="string")return H.from(o)}else{let o=n._hex;if(o==null&&n.type==="BigNumber"&&(o=n.hex),typeof o=="string"&&(or(o)||o[0]==="-"&&or(o.substring(1))))return H.from(o)}return $t.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function fe(s){if(typeof s!="string")return fe(s.toString(16));if(s[0]==="-")return s=s.substring(1),s[0]==="-"&&$t.throwArgumentError("invalid hex","value",s),s=fe(s),s==="0x00"?s:"-"+s;if(s.substring(0,2)!=="0x"&&(s="0x"+s),s==="0x")return"0x00";for(s.length%2&&(s="0x0"+s.substring(2));s.length>4&&s.substring(0,4)==="0x00";)s="0x"+s.substring(4);return s}function Pt(s){return H.from(fe(s))}function B(s){const e=H.from(s).toHexString();return e[0]==="-"?new ar("-"+e.substring(3),16):new ar(e.substring(2),16)}function Bt(s,e,n){const o={fault:s,operation:e};return n!=null&&(o.value=n),$t.throwError(s,G.errors.NUMERIC_FAULT,o)}const Gn="logger/5.1.0";let Yr=!1,Qr=!1;const _e={debug:1,default:2,info:2,warning:3,error:4,off:5};let ti=_e.default,er=null;function qn(){try{const s=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(n){s.push(e)}}),s.length)throw new Error("missing "+s.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(s){return s.message}return null}const ei=qn();var lr;(function(s){s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF"})(lr||(lr={}));var fr;(function(s){s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.SERVER_ERROR="SERVER_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.CALL_EXCEPTION="CALL_EXCEPTION",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s.NONCE_EXPIRED="NONCE_EXPIRED",s.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",s.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT"})(fr||(fr={}));class Z{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const o=e.toLowerCase();_e[o]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ti>_e[o])&&console.log.apply(console,n)}debug(...e){this._log(Z.levels.DEBUG,e)}info(...e){this._log(Z.levels.INFO,e)}warn(...e){this._log(Z.levels.WARNING,e)}makeError(e,n,o){if(Qr)return this.makeError("censored error",n,{});n||(n=Z.errors.UNKNOWN_ERROR),o||(o={});const m=[];Object.keys(o).forEach(w=>{try{m.push(w+"="+JSON.stringify(o[w]))}catch(M){m.push(w+"="+JSON.stringify(o[w].toString()))}}),m.push(`code=${n}`),m.push(`version=${this.version}`);const h=e;m.length&&(e+=" ("+m.join(", ")+")");const v=new Error(e);return v.reason=h,v.code=n,Object.keys(o).forEach(function(w){v[w]=o[w]}),v}throwError(e,n,o){throw this.makeError(e,n,o)}throwArgumentError(e,n,o){return this.throwError(e,Z.errors.INVALID_ARGUMENT,{argument:n,value:o})}assert(e,n,o,m){e||this.throwError(n,o,m)}assertArgument(e,n,o,m){e||this.throwArgumentError(n,o,m)}checkNormalize(e){ei&&this.throwError("platform missing String.prototype.normalize",Z.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ei})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Z.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Z.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,o){o?o=": "+o:o="",e<n&&this.throwError("missing argument"+o,Z.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+o,Z.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Z.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Z.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Z.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return er||(er=new Z(Gn)),er}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Z.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Yr){if(!e)return;this.globalLogger().throwError("error censorship permanent",Z.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Qr=!!e,Yr=!!n}static setLogLevel(e){const n=_e[e.toLowerCase()];if(n==null){Z.globalLogger().warn("invalid log level - "+e);return}ti=n}static from(e){return new Z(e)}}Z.errors=fr;Z.levels=lr;const zn="units/5.1.0",Ni=new At(zn),Ri=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ts(s){const e=String(s).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||s==="."||s==="-.")&&Ni.throwArgumentError("invalid value","value",s);let n=e[0],o="";for(n.substring(0,1)==="-"&&(o="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let m="";for(e.length===2&&(m="."+(e[1]||"0"));m.length>2&&m[m.length-1]==="0";)m=m.substring(0,m.length-1);const h=[];for(;n.length;)if(n.length<=3){h.unshift(n);break}else{const v=n.length-3;h.unshift(n.substring(v)),n=n.substring(0,v)}return o+h.join(",")+m}function Zt(s,e){if(typeof e=="string"){const n=Ri.indexOf(e);n!==-1&&(e=3*n)}return ye(s,e!=null?e:18)}function $n(s,e){if(typeof s!="string"&&Ni.throwArgumentError("value must be a string","value",s),typeof e=="string"){const n=Ri.indexOf(e);n!==-1&&(e=3*n)}return zt(s,e!=null?e:18)}function Hn(s){return Zt(s,18)}function As(s){return $n(s,18)}const Vn="ethers/5.1.4";new Z(Vn);const Wn=(s,e)=>{const n=Kt(),o=()=>{n.value=ir(s).height};return Hi(()=>{if(rr(o),e)for(let m=1;m<=3;m++)setTimeout(o,100*m)}),oi(()=>rr(o)),n};function Zn(s,e){const n=Wn(s,!0);return o=>P("div",{class:e("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[o()])}const[Si,ri]=ue("action-bar"),Ti=Symbol(Si),Kn={placeholder:Boolean,safeAreaInsetBottom:jt};var Xn=re({name:Si,props:Kn,setup(s,{slots:e}){const n=Kt(),o=Zn(n,ri),{linkChildren:m}=Vi(Ti);m();const h=()=>{var v;return P("div",{ref:n,class:[ri(),{"van-safe-area-bottom":s.safeAreaInsetBottom}]},[(v=e.default)==null?void 0:v.call(e)])};return()=>s.placeholder?o(h):h()}});const Jn=ce(Xn),[jn,Yn]=ue("action-bar-button"),Qn=Xt({},Wi,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var ts=re({name:jn,props:Qn,setup(s,{slots:e}){const n=Zi(),{parent:o,index:m}=Ki(Ti),h=Ur(()=>{if(o){const w=o.children[m.value-1];return!(w&&"isButton"in w)}}),v=Ur(()=>{if(o){const w=o.children[m.value+1];return!(w&&"isButton"in w)}});return ai({isButton:!0}),()=>{const{type:w,icon:M,text:y,color:E,loading:N,disabled:S}=s;return P(Ne,{class:Yn([w,{last:v.value,first:h.value}]),size:"large",type:w,icon:M,color:E,loading:N,disabled:S,onClick:n},{default:()=>[e.default?e.default():y]})}}});const ii=ce(ts),[es,Lt]=ue("action-sheet"),rs=Xt({},li,{title:String,round:jt,actions:Xi(),closeIcon:fi("cross"),closeable:jt,cancelText:String,description:String,closeOnPopstate:jt,closeOnClickAction:Boolean,safeAreaInsetBottom:jt}),is=[...hi,"round","closeOnPopstate","safeAreaInsetBottom"];var ns=re({name:es,props:rs,emits:["select","cancel","update:show"],setup(s,{slots:e,emit:n}){const o=E=>n("update:show",E),m=()=>{o(!1),n("cancel")},h=()=>{if(s.title)return P("div",{class:Lt("header")},[s.title,s.closeable&&P(nr,{name:s.closeIcon,class:[Lt("close"),Ji],onClick:m},null)])},v=()=>{if(e.cancel||s.cancelText)return[P("div",{class:Lt("gap")},null),P("button",{type:"button",class:Lt("cancel"),onClick:m},[e.cancel?e.cancel():s.cancelText])]},w=(E,N)=>E.loading?P(ji,{class:Lt("loading-icon")},null):e.action?e.action({action:E,index:N}):[P("span",{class:Lt("name")},[E.name]),E.subname&&P("div",{class:Lt("subname")},[E.subname])],M=(E,N)=>{const{color:S,loading:q,callback:k,disabled:U,className:O}=E,b=()=>{U||q||(k&&k(E),s.closeOnClickAction&&o(!1),rr(()=>n("select",E,N)))};return P("button",{type:"button",style:{color:S},class:[Lt("item",{loading:q,disabled:U}),O],onClick:b},[w(E,N)])},y=()=>{if(s.description||e.description){const E=e.description?e.description():s.description;return P("div",{class:Lt("description")},[E])}};return()=>P(cr,ur({class:Lt(),position:"bottom","onUpdate:show":o},ui(s,is)),{default:()=>{var E;return[h(),y(),P("div",{class:Lt("content")},[s.actions.map(M),(E=e.default)==null?void 0:E.call(e)]),v()]}})}});const Is=ce(ns),[ss,Dt,we]=ue("dialog"),os=Xt({},li,{title:String,theme:String,width:Yi,message:[String,Function],callback:Function,allowHtml:Boolean,className:Qi,transition:fi("van-dialog-bounce"),messageAlign:String,closeOnPopstate:jt,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:jt,closeOnClickOverlay:Boolean}),as=[...hi,"transition","closeOnPopstate"];var Ai=re({name:ss,props:os,emits:["confirm","cancel","keydown","update:show"],setup(s,{emit:e,slots:n}){const o=Kt(),m=ci({confirm:!1,cancel:!1}),h=b=>e("update:show",b),v=b=>{var T;h(!1),(T=s.callback)==null||T.call(s,b)},w=b=>()=>{!s.show||(e(b),s.beforeClose?(m[b]=!0,on(s.beforeClose,{args:[b],done(){v(b),m[b]=!1},canceled(){m[b]=!1}})):v(b))},M=w("cancel"),y=w("confirm"),E=en(b=>{var T,D;if(b.target!==((D=(T=o.value)==null?void 0:T.popupRef)==null?void 0:D.value))return;({Enter:s.showConfirmButton?y:Br,Escape:s.showCancelButton?M:Br})[b.key](),e("keydown",b)},["enter","esc"]),N=()=>{const b=n.title?n.title():s.title;if(b)return P("div",{class:Dt("header",{isolated:!s.message&&!n.default})},[b])},S=b=>{const{message:T,allowHtml:D,messageAlign:A}=s,F=Dt("message",{"has-title":b,[A]:A}),Gt=rn(T)?T():T;return D&&typeof Gt=="string"?P("div",{class:F,innerHTML:Gt},null):P("div",{class:F},[Gt])},q=()=>{if(n.default)return P("div",{class:Dt("content")},[n.default()]);const{title:b,message:T,allowHtml:D}=s;if(T){const A=!!(b||n.title);return P("div",{key:D?1:0,class:Dt("content",{isolated:!A})},[S(A)])}},k=()=>P("div",{class:[sn,Dt("footer")]},[s.showCancelButton&&P(Ne,{size:"large",text:s.cancelButtonText||we("cancel"),class:Dt("cancel"),style:{color:s.cancelButtonColor},loading:m.cancel,disabled:s.cancelButtonDisabled,onClick:M},null),s.showConfirmButton&&P(Ne,{size:"large",text:s.confirmButtonText||we("confirm"),class:[Dt("confirm"),{[nn]:s.showCancelButton}],style:{color:s.confirmButtonColor},loading:m.confirm,disabled:s.confirmButtonDisabled,onClick:y},null)]),U=()=>P(Jn,{class:Dt("footer")},{default:()=>[s.showCancelButton&&P(ii,{type:"warning",text:s.cancelButtonText||we("cancel"),class:Dt("cancel"),color:s.cancelButtonColor,loading:m.cancel,disabled:s.cancelButtonDisabled,onClick:M},null),s.showConfirmButton&&P(ii,{type:"danger",text:s.confirmButtonText||we("confirm"),class:Dt("confirm"),color:s.confirmButtonColor,loading:m.confirm,disabled:s.confirmButtonDisabled,onClick:y},null)]}),O=()=>n.footer?n.footer():s.theme==="round-button"?U():k();return()=>{const{width:b,title:T,theme:D,message:A,className:F}=s;return P(cr,ur({ref:o,role:"dialog",class:[Dt([D]),F],style:{width:tn(b)},tabindex:0,"aria-labelledby":T||A,onKeydown:E,"onUpdate:show":h},ui(s,as)),{default:()=>[N(),q(),O()]})}}});let he;function ls(){({instance:he}=ln({setup(){const{state:e,toggle:n}=fn();return()=>P(Ai,ur(e,{"onUpdate:show":n}),null)}}))}function It(s){return an?new Promise((e,n)=>{he||ls(),he.open(Xt({},It.currentOptions,s,{callback:o=>{(o==="confirm"?e:n)(o)}}))}):Promise.resolve()}It.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};It.currentOptions=Xt({},It.defaultOptions);It.alert=It;It.confirm=s=>It(Xt({showCancelButton:!0},s));It.close=()=>{he&&he.toggle(!1)};It.setDefaultOptions=s=>{Xt(It.currentOptions,s)};It.resetDefaultOptions=()=>{It.currentOptions=Xt({},It.defaultOptions)};It.Component=ce(Ai);It.install=s=>{s.use(It.Component),s.config.globalProperties.$dialog=It};const[fs,ie]=ue("notice-bar"),hs={text:String,mode:String,color:String,delay:kr(1),speed:kr(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var us=re({name:fs,props:hs,emits:["close","replay"],setup(s,{emit:e,slots:n}){let o=0,m=0,h;const v=Kt(),w=Kt(),M=ci({show:!0,offset:0,duration:0}),y=()=>{if(n["left-icon"])return n["left-icon"]();if(s.leftIcon)return P(nr,{class:ie("left-icon"),name:s.leftIcon},null)},E=()=>{if(s.mode==="closeable")return"cross";if(s.mode==="link")return"arrow"},N=O=>{s.mode==="closeable"&&(M.show=!1,e("close",O))},S=()=>{if(n["right-icon"])return n["right-icon"]();const O=E();if(O)return P(nr,{name:O,class:ie("right-icon"),onClick:N},null)},q=()=>{M.offset=o,M.duration=0,dn(()=>{Lr(()=>{M.offset=-m,M.duration=(m+o)/+s.speed,e("replay")})})},k=()=>{const O=s.scrollable===!1&&!s.wrapable,b={transform:M.offset?`translateX(${M.offset}px)`:"",transitionDuration:`${M.duration}s`};return P("div",{ref:v,role:"marquee",class:ie("wrap")},[P("div",{ref:w,style:b,class:[ie("content"),{"van-ellipsis":O}],onTransitionend:q},[n.default?n.default():s.text])])},U=()=>{const{delay:O,speed:b,scrollable:T}=s,D=mn(O)?+O*1e3:0;o=0,m=0,M.offset=0,M.duration=0,clearTimeout(h),h=setTimeout(()=>{if(!v.value||!w.value||T===!1)return;const A=ir(v).width,F=ir(w).width;(T||F>A)&&Lr(()=>{o=A,m=F,M.offset=-m,M.duration=m/+b})},D)};return oi(U),hn(U),un("pageshow",U),ai({reset:U}),di(()=>[s.text,s.scrollable],U),()=>{const{color:O,wrapable:b,background:T}=s;return mi(P("div",{role:"alert",class:ie({wrapable:b}),style:{color:O,background:T}},[y(),k(),S()]),[[cn,M.show]])}}});const Os=ce(us);function Cs(s=Ht().chain){return pi({method:"get",url:"/v1api/v2/aveswap/tokenlist",params:{chain:s}})}async function Ps(s,e,n,o=Ht().walletAddress){if(!n||!s)return{symbol:"",balance:0,decimals:0,address:"",allowance:"0"};let{_provider:m,chainInfo:h}=de(n);if(!m)return{symbol:"",balance:0,decimals:0,address:"",chain:n||"",allowance:"0"};if(s===ae){let U=0;try{U=o?await m.getBalance(o):0}catch(O){console.log(O)}return{symbol:(h==null?void 0:h.main_name)||"",balance:Hn(U.toString()),decimals:18,address:s,initBalance:U,chain:n,allowance:Me}}const v=new Re;await v.init(m);const w=new ne(s,Se),M=w.symbol(),y=w.decimals();let E="",N=0,S=0,q="0",k=[E,N,S,q];if(o&&e){const U=w.balanceOf(o),O=w.allowance(o,e);k=await v.all([M,y,U,O]),S=k[2],q=k[3].toString()}else if(o&&!e){const U=w.balanceOf(o);k=await v.all([M,y,U]),S=k[2]}else k=await v.all([M,y]);return E=k[0],N=k[1],{symbol:E,balance:Zt(S.toString(),N),decimals:N,address:s,chain:n,initBalance:S.toString(),allowance:q}}async function Us(s,e,n,o=Ht().walletAddress){let{_provider:m}=de(e);const h=new Re;await h.init(m);const v=new ne(s,vi);let w=v.getReserves(),M=v.token0(),y=v.token1(),E=v.decimals(),N=v.totalSupply(),S=[0,0],q="",k="",U=0,O=0,b=0,T=0;if(o){let g=v.balanceOf(o),p=v.allowance(o,n),f=await h.all([w,M,y,N,E,g,p]);S=f[0].map(r=>r.toString()),q=f[1],k=f[2],b=f[3],U=f[4],O=f[5],T=f[6]}else{let g=await h.all([w,M,y,N,E]);S=g[0].map(p=>p.toString()),q=g[1],k=g[2],b=g[3],U=g[4]}const D=new Re;await D.init(m);let A=new ne(q,Se),F=new ne(k,Se),Gt=A.symbol(),Jt=F.symbol(),Vt=A.decimals(),V=F.decimals(),qt="",d="",t=0,i=0,a=await D.all([Gt,Jt,Vt,V]);qt=a[0],d=a[1],t=a[2],i=a[3];let l=b!==0?H.from(O).mul(S[0]).div(b.toString()):H.from(0),c=b!==0?H.from(O).mul(S[1]).div(b.toString()):H.from(0);return{pair:s,chain:e,token0_address:q.toLowerCase(),token1_address:k.toLowerCase(),token0_symbol:qt,token1_symbol:d,token0_value:Zt(l.toString(),t),token1_value:Zt(c.toString(),i),reserve0:Zt(S[0].toString(),t),reserve1:Zt(S[1].toString(),i),value:Zt(O.toString(),U),balance:O.toString(),allowance:T.toString(),decimals:U,token0_value_d:l.toString(),token1_value_d:c.toString(),total_supply:Zt(b.toString(),U)}}async function Bs(s,e,n,o=Ht().chain){let{_provider:m}=de(o);const h=new Qt(n,dr,m);let v=(await h.factory()).toLowerCase(),w=n==null?void 0:n.toLowerCase();const M=new Qt(v,Nn,m);s=s===ae?await h.WETH():s,e=e===ae?await h.WETH():e;let y=(await M.getPair(s,e)).toLowerCase();if(Number(y)===0)return{pair:y,factory_address:v,router_address:w,token0:s,token1:e,reserve0:"0",reserve1:"0",totalSupply:"0",decimals:0};const E=new Re;await E.init(m);const N=new ne(y,vi);let S=N.getReserves(),q=N.totalSupply(),k=N.token0(),U=N.decimals(),O=await E.all([S,q,k,U]),[[b,T],D,A,F]=O;return new RegExp(s,"i").test(A)?{pair:y,factory_address:v,router_address:w,token0:s,token1:e,reserve0:b.toString(),reserve1:T.toString(),totalSupply:D.toString(),decimals:F}:{pair:y,factory_address:v,router_address:w,token0:s,token1:e,reserve0:T.toString(),reserve1:b.toString(),totalSupply:D.toString(),decimals:F}}async function ks({token0:s,token1:e,amount0:n,amount1:o,slippage:m,router:h="0x10ED43C718714eb63d5aA57B78B54704E256024E"},v=Ht().chain,w=Ht().walletAddress){if(s===e)return Promise.reject(new Error("two tokens cannot be the same"));let{_provider:M}=de(v),y=M.getUncheckedSigner();const E=new Qt(h,dr,y);let N=H.from(n).mul(H.from(1e3).sub(Number(m)*10)).div(1e3).toString(),S=H.from(o).mul(H.from(1e3).sub(Number(m)*10)).div(1e3).toString(),q=await M.getBlockNumber(),O=((await M.getBlock(q)).timestamp||Date.now())+20*60,b=[],T="";s===ae?(T="addLiquidityETH",b=[e,o,S,N,w,O,{value:n}]):e===ae?(T="addLiquidityETH",b=[s,n,N,S,w,O,{value:o}]):(T="addLiquidity",b=[s,e,n,o,N,S,w,O]);let D=await E.estimateGas[T](...b),A=b.slice();return T==="addLiquidity"?A=[...b,{gasLimit:D.toString()}]:A[A.length-1].gasLimit=D.mul(2).toString(),E[T](...A)}async function Ls(s,e,n=Ht().walletAddress){let o=gi();const m=new Qt(s,Se,o);let v=await m.balanceOf(n);return s&&s.toLowerCase()==="0xdac17f958d2ee523a2206206994597c13d831ec7"&&Ht().chain==="eth"&&(v=Me),m.estimateGas.approve(e,v).then(w=>m.approve(e,v,{gasLimit:w.mul("12").div("10")})).catch(w=>{var y,E;console.log("err",w);let M=Z.errors;if(w=(w==null?void 0:w.code)==="UNPREDICTABLE_GAS_LIMIT"&&(w==null?void 0:w.error)||w,(y=w==null?void 0:w.error)!=null&&y.message&&(w.message=(E=w==null?void 0:w.error)==null?void 0:E.message),console.log("error next",w),!((w==null?void 0:w.code)===-32e3||(w==null?void 0:w.code)===M.MISSING_ARGUMENT||(w==null?void 0:w.message)==="execution reverted"))throw w;return m.approve(e,"0").then(N=>N.wait()).then(async N=>{let S=await m.estimateGas.approve(e,Me);return m.approve(e,Me,{gasLimit:S.mul("12").div("10")})})})}async function Ds({token0:s,token1:e,liquidity:n,amount0:o,amount1:m,slippage:h,router:v},w,M=Ht().chain,y=Ht().walletAddress){var Vt;if(s===e)return Promise.reject(new Error("two tokens cannot be the same"));if(console.log(M,w),M==="arbitrum"&&((Vt=w==null?void 0:w.toLowerCase)==null?void 0:Vt.call(w))==="0x6a78e84fa0edad4d99eb90edc041cdbf85925961")return cs(n);let{_provider:E}=de(M),N=E.getUncheckedSigner();const S=new Qt(v,dr,N);let q=await S.WETH(),k=H.from(o).mul(H.from(1e3).sub(Number(h)*10)).div(1e3).toString(),U=H.from(m).mul(H.from(1e3).sub(Number(h)*10)).div(1e3).toString(),O=await E.getBlockNumber(),D=((await E.getBlock(O)).timestamp||Date.now())+20*60,A=[],F="";s.toLowerCase()===q.toLowerCase()?(F="removeLiquidityETH",A=[e,n,U,k,y,D]):e.toLowerCase()===q.toLowerCase()?(F="removeLiquidityETH",A=[s,n,k,U,y,D]):(F="removeLiquidity",A=[s,e,n,k,U,y,D]);let Gt=await S.estimateGas[F](...A).catch(V=>F==="removeLiquidityETH"?(F="removeLiquidityETHSupportingFeeOnTransferTokens",S.estimateGas[F](...A)):Promise.reject(V));console.log(F,A);let Jt=A.slice();return Jt=[...A,{gasLimit:Gt.mul(2).toString()}],S[F](...Jt)}async function cs(s){let e=gi(),n=["constructor(address _pair, address _factory)","function LPToken() view returns (address)","function factory() view returns (address)","function removeLiquidity(uint256 amount)"];const o=new Qt("0x9CB9aA2216c69f4DF8B27B52307824aCB7c7Cb49",n,e);let m=await o.estimateGas.removeLiquidity(s);return o.removeLiquidity(s,{gasLimit:m.mul(2).toString()})}function Fs(s){return pi({method:"post",url:"/v1api/v2/tokens/price4h5",data:{token_ids:s}})}const ds=s=>(bn("data-v-d45994be"),s=s(),_n(),s),ms={class:"popup-title"},gs={class:"slippage-label"},ps=["onClick"],vs={style:{width:"100%"}},ws={class:"radio-group"},Ms={key:0,style:{flex:"1"}},ys=["id","value"],Es=["for"],bs={class:"slippage-input"},_s=ds(()=>kt("span",null,"%",-1)),xs={class:"form-submit"},Ns=re({__name:"slippage",props:{slippage:null},emits:["update:slippage"],setup(s,{emit:e}){const n=s,{t:o}=gn();let m=Kt(!1),h=Kt(["0.1","0.5","1"]),v=Kt(n.slippage||"1");di(m,N=>{N&&(v.value=n.slippage||"1")});function w(){e("update:slippage",v.value),m.value=!1}function M(){It.alert({title:o("slippage"),message:o("slippageTips"),confirmButtonText:o("iKnown"),confirmButtonColor:"#3F80F7",messageAlign:"left"}).then(()=>{})}function y(){m.value&&Number(v.value)<0&&(v.value="0")}function E(N){return Number(N)<=49.99}return(N,S)=>{const q=pn,k=Ne,U=vn,O=cr;return me(),ge(Je,null,[kt("i",{class:"iconfont icon-edit clickable",onClick:S[0]||(S[0]=Dr(b=>Fr(m)?m.value=!0:m=!0,["stop"]))}),P(O,{show:te(m),"onUpdate:show":S[4]||(S[4]=b=>Fr(m)?m.value=b:m=b),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:pe(()=>[kt("h3",ms,ve(te(o)("setSlippage")),1),P(U,{class:"popup-content",onSubmit:w},{default:pe(()=>[kt("div",gs,[kt("span",null,ve(te(o)("slippage")),1),kt("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:Dr(M,["stop"]),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#3F80F7"}},null,8,ps)]),P(q,{name:"slippage",modelValue:v.value,"onUpdate:modelValue":S[3]||(S[3]=b=>v.value=b),label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:te(o)("enterSlippage")},{validator:E,message:te(o)("slippageMaxTip")}],border:!1},{input:pe(()=>[kt("div",vs,[kt("div",ws,[(me(!0),ge(Je,null,wn(h.value,(b,T)=>(me(),ge(Je,{key:T},[T!==0?(me(),ge("span",Ms)):yn("",!0),mi(kt("input",{type:"radio",id:`radio-${b}`,"onUpdate:modelValue":S[1]||(S[1]=D=>v.value=D),value:b,class:"radio-input"},null,8,ys),[[En,v.value]]),kt("label",{for:`radio-${b}`,class:"radio-item"},ve(b)+"%",9,Es)],64))),128))]),kt("div",bs,[P(q,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:v.value,"onUpdate:modelValue":S[2]||(S[2]=b=>v.value=b),onBlur:y,clearable:""},null,8,["modelValue"]),_s])])]),_:1},8,["modelValue","rules"]),kt("div",xs,[P(k,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:pe(()=>[Mn(ve(te(o)("confirm1")),1)]),_:1})])]),_:1})]),_:1},8,["show"])],64)}}});const Gs=xn(Ns,[["__scopeId","data-v-d45994be"]]);export{Is as A,Pn as B,Z as L,Os as N,Gs as S,Zt as a,$n as b,Ts as c,H as d,Bs as e,Hn as f,Ps as g,Fs as h,ks as i,Ls as j,Cs as k,Us as l,As as p,Ds as r};
