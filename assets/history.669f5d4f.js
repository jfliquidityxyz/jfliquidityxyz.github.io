import{i as I,t as T,q as Q,bG as Y,$ as Z,d as M,ab as J,s as k,j as X,bO as ee,c as V,a2 as te,bP as oe,bI as se,l as v,bu as ae,bn as ne,bQ as le,br as re,bw as N,bx as ce,v as ie,k as de,bR as ue,F as H,G as F,bt as pe,E as _e,bS as me,a6 as ve,m as j,H as fe,I as he,a5 as ye,b as S,L as R,f as U,e as q,N as n,M as l,P as we,O as _,Q as be,R as xe,u as E,W,T as A,a_ as ke,b9 as ge,bT as Ce,bU as Pe,U as B,_ as Oe}from"./index.6fc8e0b9.js";import{E as $e}from"./index.7a54bc57.js";import{I as ze,c as Se}from"./index.d522aff9.js";const[G,D]=I("dropdown-menu"),Ve={overlay:T,zIndex:Q,duration:Y(.2),direction:Z("down"),activeColor:String,closeOnClickOutside:T,closeOnClickOverlay:T},K=Symbol(G);var Ee=M({name:G,props:Ve,setup(c,{slots:b}){const i=J(),r=k(),h=k(),y=k(0),{children:f,linkChildren:O}=X(K),g=ee(r),x=V(()=>f.some(e=>e.state.showWrapper)),$=V(()=>{if(x.value&&te(c.zIndex))return{zIndex:+c.zIndex+1}}),C=()=>{c.closeOnClickOutside&&f.forEach(e=>{e.toggle(!1)})},P=()=>{if(h.value){const e=ne(h);c.direction==="down"?y.value=e.bottom:y.value=le.value-e.top}},z=()=>{x.value&&P()},d=e=>{f.forEach((a,o)=>{o===e?(P(),a.toggle()):a.state.showPopup&&a.toggle(!1,{immediate:!0})})},s=(e,a)=>{const{showPopup:o}=e.state,{disabled:p,titleClass:m}=e;return v("div",{id:`${i}-${a}`,role:"button",tabindex:p?void 0:0,class:[D("item",{disabled:p}),{[ae]:!p}],onClick:()=>{p||d(a)}},[v("span",{class:[D("title",{down:o===(c.direction==="down"),active:o}),m],style:{color:o?c.activeColor:""}},[v("div",{class:"van-ellipsis"},[e.renderTitle()])])])};return O({id:i,props:c,offset:y}),oe(r,C),se("scroll",z,{target:g,passive:!0}),()=>{var e;return v("div",{ref:r,class:D()},[v("div",{ref:h,style:$.value,class:D("bar",{opened:x.value})},[f.map(s)]),(e=b.default)==null?void 0:e.call(b)])}}});const[De,L]=I("dropdown-item"),Le={title:String,options:re(),disabled:Boolean,teleport:[String,Object],lazyRender:T,modelValue:N,titleClass:N};var Te=M({name:De,props:Le,emits:["open","opened","close","closed","change","update:modelValue"],setup(c,{emit:b,slots:i}){const r=ce({showPopup:!1,transition:!0,showWrapper:!1}),{parent:h,index:y}=ie(K);if(!h)return;const f=e=>()=>b(e),O=f("open"),g=f("close"),x=f("opened"),$=()=>{r.showWrapper=!1,b("closed")},C=e=>{c.teleport&&e.stopPropagation()},P=(e=!r.showPopup,a={})=>{e!==r.showPopup&&(r.showPopup=e,r.transition=!a.immediate,e&&(r.showWrapper=!0))},z=()=>{if(i.title)return i.title();if(c.title)return c.title;const e=c.options.find(a=>a.value===c.modelValue);return e?e.text:""},d=e=>{const{activeColor:a}=h.props,o=e.value===c.modelValue,p=()=>{r.showPopup=!1,e.value!==c.modelValue&&(b("update:modelValue",e.value),b("change",e.value))},m=()=>{if(o)return v(ve,{class:L("icon"),color:a,name:"success"},null)};return v(_e,{role:"menuitem",key:e.value,icon:e.icon,title:e.text,class:L("option",{active:o}),style:{color:o?a:""},tabindex:o?0:-1,clickable:!0,onClick:p},{value:m})},s=()=>{const{offset:e}=h,{zIndex:a,overlay:o,duration:p,direction:m,closeOnClickOverlay:t}=h.props,u=me(a);return m==="down"?u.top=`${e.value}px`:u.bottom=`${e.value}px`,H(v("div",{style:u,class:L([m]),onClick:C},[v(pe,{show:r.showPopup,"onUpdate:show":w=>r.showPopup=w,role:"menu",class:L("content"),overlay:o,position:m==="down"?"top":"bottom",duration:r.transition?p:0,lazyRender:c.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${h.id}-${y.value}`,closeOnClickOverlay:t,onOpen:O,onClose:g,onOpened:x,onClosed:$},{default:()=>{var w;return[c.options.map(d),(w=i.default)==null?void 0:w.call(i)]}})]),[[F,r.showWrapper]])};return de({state:r,toggle:P,renderTitle:z}),()=>c.teleport?v(ue,{to:c.teleport},{default:()=>[s()]}):s()}});const Re=j(Te),We=j(Ee);const Ae={class:"pb-50px"},Be={class:"flex items-center"},He={class:"text-size-[14px] w-100% table-history color-#333"},Me={class:"text-size-[12px] color-[#999] t-header"},Ne={class:"text-left font-400"},Ue={class:"text-center font-400"},qe={class:"text-right font-400"},Ie=["onClick"],Fe={class:"text-left font-400"},je={class:"color-[#999] text-size-[12px]"},Ge={class:"text-center font-400"},Ke={class:"w-100% font-400"},Qe={class:"text-right color-[#333]"},Ye={class:"text-left color-[#999]"},Ze={class:"text-right color-[#333]"},Je={class:"text-left color-[#999]"},Xe={class:"text-right font-400"},et={class:"flex items-center justify-end"},tt={class:"color-[#999] text-size-[12px]"},ot=M({__name:"history",setup(c){const b=new URL("/assets/icon-default.995adb35.png",self.location).href,{t:i}=fe();let r=k(""),h=V(()=>{var p,m;let d=[],s=[],e=[],a=E().chain,o=W(a);return(m=(p=g.value)==null?void 0:p.forEach)==null||m.call(p,t=>{let u=t.token0_address===(o==null?void 0:o.wmain_wrapper)?o==null?void 0:o.main_name:t.token0_symbol;d.includes(u)||(d.push(u),s.push(A(`${t.token0_address}-${t.chain}`)),e.push(`${t.token0_address}-${t.chain}`));let w=t.token1_address===(o==null?void 0:o.wmain_wrapper)?o==null?void 0:o.main_name:t.token1_symbol;d.includes(w)||(d.push(w),s.push(A(`${t.token1_address}-${t.chain}`)),e.push(`${t.token1_address}-${t.chain}`))}),[{text:i("allToken"),value:"",icon:"",id:""}].concat(d.map((t,u)=>({text:t,value:e[u],icon:s[u],id:e[u]})))}),y=V(()=>h.value.find(d=>d.id===r.value)),f=k(""),O=k([{text:i("allTypes"),value:""},{text:i("add"),value:"addLiquidity"},{text:i("remove"),value:"removeLiquidity"}]),g=k([]),x=k(!1);function $(){let d=E().chain,s=E().walletAddress;x.value=!0,Se(d,s).then(e=>{console.log(e),g.value=e}).finally(()=>{x.value=!1})}let C=V(()=>{var e,a;let d=E().chain,s=W(d);return((a=(e=g.value)==null?void 0:e.filter)==null?void 0:a.call(e,o=>{var t,u;let p=o.token0_address===(s==null?void 0:s.wmain_wrapper)?s==null?void 0:s.main_name:o.token0_symbol,m=o.token1_address===(s==null?void 0:s.wmain_wrapper)?s==null?void 0:s.main_name:o.token1_symbol;return(o.type===f.value||f.value==="")&&(p===((t=y.value)==null?void 0:t.text)||m===((u=y.value)==null?void 0:u.text)||r.value==="")}))||[]});function P(d,s,e){let a=W(s);return d===(a==null?void 0:a.wmain_wrapper)?a==null?void 0:a.main_name:e}function z(){$()}return he(()=>{z()}),(d,s)=>{const e=ze,a=Re,o=We,p=$e,m=ye("imageError");return S(),R("section",Ae,[v(o,{"active-color":"#3F80F7"},{default:U(()=>[H((S(),q(a,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),options:l(h),class:"dropdown-item-1"},{title:U(()=>{var t,u,w;return[n("div",Be,[(t=l(y))!=null&&t.id?(S(),q(e,{key:0,class:"icon-token mr-5px",round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:l(A)(((u=l(y))==null?void 0:u.id)||""),"error-icon":l(b)},null,8,["src","error-icon"])):we("",!0),n("span",null,_(((w=l(y))==null?void 0:w.text)||""),1)])]}),_:1},8,["modelValue","options"])),[[m]]),v(a,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),options:O.value},null,8,["modelValue","options"])]),_:1}),n("table",He,[n("tr",Me,[n("th",Ne,_(l(i)("type")),1),n("th",Ue,_(l(i)("amount"))+"/"+_(l(i)("token")),1),n("th",qe,_(l(i)("volume"))+"/AMM",1)]),(S(!0),R(be,null,xe(l(C),(t,u)=>(S(),R("tr",{key:u,class:"t-row clickable",onClick:ke(w=>l(ge)(t.transaction,"tx",t.chain),["stop"])},[n("td",Fe,[n("div",{style:Ce({color:t.type==="addLiquidity"?"#12B886":"#F6465D"})},_(t.type==="addLiquidity"?l(i)("add"):l(i)("remove")),5),n("div",je,_(l(Pe)(t.time,"MM-DD HH:mm:ss")),1)]),n("td",Ge,[n("table",Ke,[n("tr",null,[n("td",Qe,_(t.type==="addLiquidity"?"+":"-")+" "+_(l(B)(t.amount0)),1),n("td",Ye,_(P(t.token0_address,t.chain,t.token0_symbol)),1)]),n("tr",null,[n("td",Ze,_(t.type==="addLiquidity"?"+":"-")+" "+_(l(B)(t.amount1)),1),n("td",Je,_(P(t.token1_address,t.chain,t.token1_symbol)),1)])])]),n("td",Xe,[n("div",null,"$"+_(l(B)(t.amount_usd)),1),n("div",et,[v(e,{class:"w-[12px] h-[12px] mr-[5px]",round:"","lazy-load":"",src:`https://ave.s3.ap-east-1.amazonaws.com/swap/${t.amm}.jpeg`,"error-icon":l(b)},null,8,["src","error-icon"]),n("span",tt,_(t.show_name||t.amm||""),1)])])],8,Ie))),128))]),H(v(p,{description:l(i)("noData"),class:"empty"},null,8,["description"]),[[F,l(C)&&l(C).length===0&&!x.value]])])}}});const lt=Oe(ot,[["__scopeId","data-v-2ccacda8"]]);export{lt as default};
